(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0b2b":function(e,t){},"116c":function(e,t){},"325d":function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-toolbar",{staticClass:"bg-secondary text-white"},[i("q-btn",{attrs:{flat:"",dense:"",icon:"save",loading:e.isPublishing},on:{click:e.publishComponents}},[i("q-tooltip",[e._v("\n                Save page components\n            ")])],1),e.hasOptions?i("q-btn",{attrs:{flat:"",dense:"",icon:"mdi-file-document-edit",label:"Classic editor"},on:{click:e.openOptions}}):e._e(),i("q-space"),i("q-btn-toggle",{attrs:{value:e.viewSize,flat:"",dense:"",options:[{value:"sm",slot:"sm"},{value:"md",slot:"md"},{value:"lg",slot:"lg"}]},on:{input:e.setView},scopedSlots:e._u([{key:"sm",fn:function(){return[i("q-icon",{attrs:{name:"smartphone"}}),i("q-tooltip",[e._v("Smartphone")])]},proxy:!0},{key:"md",fn:function(){return[i("q-icon",{attrs:{name:"tablet_android"}}),i("q-tooltip",[e._v("Tablet")])]},proxy:!0},{key:"lg",fn:function(){return[i("q-icon",{attrs:{name:"computer"}}),i("q-tooltip",[e._v("Desktop")])]},proxy:!0}])})],1),i("q-tabs",{attrs:{dense:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("q-tab",{attrs:{name:"components",label:"Components"}}),e.selectedComponent?i("q-tab",{attrs:{name:"form",label:e.selectedComponent.label}}):e._e()],1),i("q-tab-panels",{attrs:{"keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("q-tab-panel",{attrs:{name:"components"}},[i("PageBuilderComponentsTree",{on:{edit:function(t){e.tab="form"}}}),i("q-btn",{staticClass:"q-mt-md q-px-md",attrs:{dense:"",color:"primary",label:"Add to content"},on:{click:function(t){e.openDialog=!0}}})],1),i("q-tab-panel",{attrs:{name:"form"}},[e.selectedComponent?i("PageBuilderComponentForm",{attrs:{component:e.selectedComponent}}):e._e()],1)],1),i("PageBuilderAvailableComponentsDialog",{on:{"component-click":e.showComponentPresets,close:e.closeDialog},model:{value:e.openDialog,callback:function(t){e.openDialog=t},expression:"openDialog"}}),i("q-dialog",{model:{value:e.presetsDialog,callback:function(t){e.presetsDialog=t},expression:"presetsDialog"}},[i("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[i("q-card-section",{staticClass:"column wrap q-gutter-md"},e._l(e.componentPresets[e.componentToAdd],(function(t){return i("q-list",{key:t.name,attrs:{bordered:"",separator:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(i){return e.addPresetToContent(t)}}},[i("q-item-section",[e._v(e._s(t.name))])],1)],1)})),1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Close",color:"secondary"},on:{click:function(t){e.presetsDialog=!1}}}),i("q-btn",{attrs:{flat:"",label:"Add without preset",color:"secondary"},on:{click:function(t){return e.addComponentToContent(e.componentToAdd)}}})],1)],1)],1)],1)},o=[],s=i("d420"),l=i("60a3"),r=i("1732"),c=i("2ef0"),p=i("4bb5"),d=i("7905"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.form?i("div",e._l(e.form,(function(t,n){return i(e.formControlName(t.name),{key:n,tag:"component",staticClass:"q-mb-md",attrs:{value:e.fieldValue(n),parameters:t.parameters},on:{input:function(t){return e.update(n,t)},"input-computed":function(t){return e.updateComputed(n,t)}}})})),1):e._e()},f=[],m=i("943d"),g=i.n(m),b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-field",{staticClass:"full-width",attrs:{label:e.parameters.label,"stack-label":"",borderless:""},scopedSlots:e._u([{key:"control",fn:function(){return[i("q-btn-toggle",{staticClass:"full-width q-pt-xs",attrs:{spread:"",value:e.value,options:[{value:"start",slot:"start"},{value:"center",slot:"center"},{value:"end",slot:"end"},{value:"stretch",slot:"stretch"},{value:"baseline",slot:"baseline"}]},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"start",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M0,3h16v1H0V3z"}}),i("path",{attrs:{d:"M3.5,5.5h3v7h-3V5.5z M8.5,5.5h3v5h-3V5.5z"}})])])]},proxy:!0},{key:"center",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M3.5,3.5h3v8h-3V3.5z M8.5,4.5h3v6h-3V4.5z"}}),i("path",{attrs:{d:"M0,7h16v1H0V7z"}})])])]},proxy:!0},{key:"end",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M0,12h16v1H0V12z"}}),i("path",{attrs:{d:"M3.5,3.5h3v7h-3V3.5z M8.5,5.5h3v5h-3V5.5z"}})])])]},proxy:!0},{key:"stretch",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M0,0h16v1H0V0z M0,15h16v1H0V15z"}}),i("path",{attrs:{d:"M3.5,2.5h3v11h-3V2.5z M8.5,2.5h3v11h-3V2.5z"}})])])]},proxy:!0},{key:"baseline",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M0,7h16v1H0V7z"}}),i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12,3H8v7h4V3z M11,4H9v3h2V4z M7,3H3v9h4V3z M6,4H4v3h2V4z"}})])])]},proxy:!0}])})]},proxy:!0}])})},h=[],v=i("b6db"),y=i.n(v),O=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},j=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let w=class extends l["d"]{};O([Object(l["b"])(),j("design:type",Object)],w.prototype,"value",void 0),O([Object(l["b"])(),j("design:type","function"===typeof(n="undefined"!==typeof y.a&&y.a)?n:Object)],w.prototype,"parameters",void 0),w=O([l["a"]],w);var x=w,C=x,q=i("2877"),_=i("8572"),S=i("6a67"),R=i("0016"),k=i("eebe"),M=i.n(k),P=Object(q["a"])(C,b,h,!1,null,null,null),D=P.exports;M()(P,"components",{QField:_["a"],QBtnToggle:S["a"],QIcon:R["a"]});var $,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-field",{staticClass:"full-width",attrs:{label:e.parameters.label,"stack-label":"",borderless:""},scopedSlots:e._u([{key:"control",fn:function(){return[i("q-btn-toggle",{staticClass:"full-width q-pt-xs",attrs:{spread:"",value:e.value,options:[{value:"start",slot:"start"},{value:"center",slot:"center"},{value:"end",slot:"end"},{value:"between",slot:"between"},{value:"around",slot:"around"}]},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"start",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M4.5,4.5h3v7h-3V4.5z M9.5,4.5h3v7h-3V4.5z"}}),i("path",{attrs:{d:"M2,0h1v16H2V0z"}})])])]},proxy:!0},{key:"center",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M2.5,4.5h3v7h-3V4.5z M9.5,4.5h3v7h-3V4.5z"}}),i("path",{attrs:{d:"M7,0h1v16H7V0z"}})])])]},proxy:!0},{key:"end",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M12,0h1v16h-1V0z"}}),i("path",{attrs:{d:"M2.5,4.5h3v7h-3V4.5z M7.5,4.5h3v7h-3V4.5z"}})])])]},proxy:!0},{key:"between",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M15,0h1v16h-1V0z M0,0h1v16H0V0z"}}),i("path",{attrs:{d:"M10.5,4.5h3v7h-3V4.5z M2.5,4.5h3v7h-3V4.5z"}})])])]},proxy:!0},{key:"around",fn:function(){return[i("q-icon",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M15,0h1v16h-1V0z M0,0h1v16H0V0z"}}),i("path",{attrs:{d:"M9.5,4.5h3v7h-3V4.5z M3.5,4.5h3v7h-3V4.5z"}})])])]},proxy:!0}])})]},proxy:!0}])})},I=[],F=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},A=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let B=class extends l["d"]{};F([Object(l["b"])(),A("design:type",Object)],B.prototype,"value",void 0),F([Object(l["b"])(),A("design:type","function"===typeof($="undefined"!==typeof y.a&&y.a)?$:Object)],B.prototype,"parameters",void 0),B=F([l["a"]],B);var Q=B,T=Q,E=Object(q["a"])(T,z,I,!1,null,null,null),L=E.exports;M()(E,"components",{QField:_["a"],QBtnToggle:S["a"],QIcon:R["a"]});var V,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("q-select",{attrs:{label:"Select a menu to edit",options:e.menus,"option-label":"name","option-value":"id","display-value":e.selectedMenuName,value:e.value,"map-options":"","emit-value":""},on:{input:e.selectMenu}})],1)},N=[],H=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const G=Object(p["a"])("Menu");let Y=class extends l["d"]{async created(){await this.queryMenus(),this.value&&this.$emit("input-computed",{parameter:"selectedMenuName",value:this.selectedMenuName})}selectMenu(e){this.$emit("input",{parameter:"id",value:e}),this.$emit("input-computed",{parameter:"selectedMenuName",value:this.getMenuById(e).name})}getMenuById(e){return this.menus.find((t=>t.id===e))}get selectedMenuName(){const e=this.getMenuById(this.value);return e?e.name:"Select a menu"}};H([G.State,K("design:type",Array)],Y.prototype,"menus",void 0),H([G.Action,K("design:type",Object)],Y.prototype,"queryMenus",void 0),H([Object(l["b"])(),K("design:type",Object)],Y.prototype,"value",void 0),H([Object(l["b"])(),K("design:type","function"===typeof(V="undefined"!==typeof y.a&&y.a)?V:Object)],Y.prototype,"parameters",void 0),Y=H([l["a"]],Y);var J=Y,W=J,X=i("ddd8"),Z=Object(q["a"])(W,U,N,!1,null,null,null),ee=Z.exports;M()(Z,"components",{QSelect:X["a"]});var te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),-1!==e.parameters.borders.indexOf("top")?i("div",{staticClass:"col-3"},[i("SlidableInput",{attrs:{border:"top"},on:{input:e.onChange},model:{value:e.model.top,callback:function(t){e.$set(e.model,"top",t)},expression:"model.top"}})],1):e._e(),-1!==e.parameters.borders.indexOf("right")?i("div",{staticClass:"col-3"},[i("SlidableInput",{staticClass:"col-3",attrs:{border:"right"},on:{input:e.onChange},model:{value:e.model.right,callback:function(t){e.$set(e.model,"right",t)},expression:"model.right"}})],1):e._e(),-1!==e.parameters.borders.indexOf("bottom")?i("div",{staticClass:"col-3"},[i("SlidableInput",{staticClass:"col-3",attrs:{border:"bottom"},on:{input:e.onChange},model:{value:e.model.bottom,callback:function(t){e.$set(e.model,"bottom",t)},expression:"model.bottom"}})],1):e._e(),-1!==e.parameters.borders.indexOf("left")?i("div",{staticClass:"col-3"},[i("SlidableInput",{staticClass:"col-3",attrs:{border:"left"},on:{input:e.onChange},model:{value:e.model.left,callback:function(t){e.$set(e.model,"left",t)},expression:"model.left"}})],1):e._e()])},ie=[],ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-input",{staticClass:"slidable-input",style:e.styles,attrs:{value:e.value,suffix:e.suffix,dense:"",filled:"",borderless:"","hide-bottom-space":""},on:{input:function(t){return e.$emit("input",t)}},nativeOn:{dblclick:function(t){return e.stopDragging(t)},click:function(t){return e.stopDragging(t)},mousedown:function(t){return e.mouseDown(t)},mousemove:function(t){return e.mouseMove(t)}}}),e.isSelfDragging?i("SlidableInputOverlay"):e._e()],1)},ae=[],oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active?i("div",{staticClass:"invisible-overlay",on:{mousemove:e.onMouseMove,mouseup:e.onMouseUp}}):e._e()},se=[],le=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},re=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ce=Object(p["a"])("PageBuilder");let pe=class extends l["d"]{onMouseMove(e){this.isSlideDragging&&d["a"].emit("SlideDragging:position",{x:e.clientX,y:e.clientY})}onMouseUp(){this.setSlideDragging(!1),this.setSlideDraggingOriginPosition(void 0),this.setSlideDraggingOriginValue(0),d["a"].emit("SlideDragging:stop")}get active(){return this.isSlideDragging}};le([ce.Action,re("design:type",Object)],pe.prototype,"setSlideDragging",void 0),le([ce.Action,re("design:type",Object)],pe.prototype,"setSlideDraggingOriginPosition",void 0),le([ce.Action,re("design:type",Object)],pe.prototype,"setSlideDraggingOriginValue",void 0),le([ce.State,re("design:type",Object)],pe.prototype,"isSlideDragging",void 0),pe=le([l["a"]],pe);var de=pe,ue=de,fe=(i("3471"),Object(q["a"])(ue,oe,se,!1,null,"a5c15e22",null)),me=fe.exports,ge=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},be=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const he=Object(p["a"])("PageBuilder");let ve=class extends l["d"]{constructor(){super(...arguments),this.mouse={down:!1,move:!1}}mouseDown(e){this.mouse.down=!0,this.setSlideDraggingOriginPosition({x:e.clientX,y:e.clientY})}mouseMove(){this.mouse.down?this.mouse.move||(this.mouse.move=!0,this.setSlideDragging(!0),this.setSlideDraggingOriginValue(this.value),document.querySelector("body").style.pointerEvents="all",d["a"].on("SlideDragging:position",this.updatePosition.bind(this)),d["a"].on("SlideDragging:stop",this.stopDragging.bind(this))):this.mouse.move=!1}updatePosition(e){if(!e)return;let t=this.slideDraggingOriginValue+e.x-this.slideDraggingOriginPosition.x;void 0!==this.min&&(t=Math.max(t,this.min)),void 0!==this.max&&(t=Math.min(t,this.max)),this.$emit("input",t)}stopDragging(){d["a"].off("SlideDragging:position",this.updatePosition.bind(this)),this.mouse.move=!1,this.mouse.down=!1}get isSelfDragging(){return this.mouse.down&&this.mouse.move}get styles(){return this.border?`border-${this.border}: 1px solid`:""}};ge([he.Action,be("design:type",Object)],ve.prototype,"setSlideDragging",void 0),ge([he.Action,be("design:type",Object)],ve.prototype,"setSlideDraggingOriginPosition",void 0),ge([he.Action,be("design:type",Object)],ve.prototype,"setSlideDraggingOriginValue",void 0),ge([he.State,be("design:type",Object)],ve.prototype,"isSlideDragging",void 0),ge([he.State,be("design:type",Object)],ve.prototype,"slideDraggingOriginPosition",void 0),ge([he.State,be("design:type",Number)],ve.prototype,"slideDraggingOriginValue",void 0),ge([Object(l["b"])(),be("design:type",Object)],ve.prototype,"value",void 0),ge([Object(l["b"])(),be("design:type",Object)],ve.prototype,"border",void 0),ge([Object(l["b"])(),be("design:type",String)],ve.prototype,"suffix",void 0),ge([Object(l["b"])(),be("design:type",Object)],ve.prototype,"min",void 0),ge([Object(l["b"])(),be("design:type",Object)],ve.prototype,"max",void 0),ve=ge([Object(l["a"])({components:{SlidableInputOverlay:me}})],ve);var ye=ve,Oe=ye,je=(i("e97e"),i("27f9")),we=Object(q["a"])(Oe,ne,ae,!1,null,null,null),xe=we.exports;M()(we,"components",{QInput:je["a"],QField:_["a"]});var Ce,qe=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},_e=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Se=class extends l["d"]{constructor(){super(...arguments),this.model=null}created(){this.model=this.values}onValueChanged(){this.model=this.values}get values(){const e=this.value?this.value.split(" ").map((e=>{const t=e.replace("px","");return"auto"!==t?parseInt(t):t})):[];return new class{constructor(){this.top=e.length>0?e[0]:0,this.right=e.length>1?e[1]:e.length>0?e[0]:0,this.bottom=e.length>2?e[2]:e.length>0?e[0]:0,this.left=e.length>3?e[3]:e.length>1?e[1]:e.length>0?e[0]:0}}}get formattedModel(){if(!this.model)return"";const e={top:-1!==this.parameters.borders.indexOf("top")?this.model.top+"px":"auto",right:-1!==this.parameters.borders.indexOf("right")?this.model.right+"px":"auto",bottom:-1!==this.parameters.borders.indexOf("bottom")?this.model.bottom+"px":"auto",left:-1!==this.parameters.borders.indexOf("left")?this.model.left+"px":"auto"};return`${e.top} ${e.right} ${e.bottom} ${e.left}`.replace(/\b0px/g,"0").replace(/^0 0$/,"0").replace(/^0 0 0 0$/,"0")}onChange(){this.$emit("input",this.formattedModel)}};qe([Object(l["b"])(),_e("design:type",Object)],Se.prototype,"value",void 0),qe([Object(l["b"])(),_e("design:type","function"===typeof(Ce="undefined"!==typeof y.a&&y.a)?Ce:Object)],Se.prototype,"parameters",void 0),qe([Object(l["e"])("value"),_e("design:type",Function),_e("design:paramtypes",[]),_e("design:returntype",void 0)],Se.prototype,"onValueChanged",null),Se=qe([Object(l["a"])({components:{SlidableInput:xe}})],Se);var Re,ke=Se,Me=ke,Pe=Object(q["a"])(Me,te,ie,!1,null,null,null),De=Pe.exports,$e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("q-btn-toggle",{staticClass:"full-width",attrs:{value:e.value,label:e.parameters.label,options:e.parameters.choices,spread:"","no-caps":"",unelevated:""},on:{input:function(t){return e.$emit("input",t)}}})],1)},ze=[],Ie=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Fe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ae=class extends l["d"]{};Ie([Object(l["b"])(),Fe("design:type",Object)],Ae.prototype,"value",void 0),Ie([Object(l["b"])(),Fe("design:type","function"===typeof(Re="undefined"!==typeof y.a&&y.a)?Re:Object)],Ae.prototype,"parameters",void 0),Ae=Ie([l["a"]],Ae);var Be=Ae,Qe=Be,Te=Object(q["a"])(Qe,$e,ze,!1,null,null,null),Ee=Te.exports;M()(Te,"components",{QBtnToggle:S["a"]});var Le,Ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-input",{attrs:{filled:"","stack-label":"",label:e.parameters.label,value:e.value},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-color",{attrs:{value:e.value,"default-view":"palette",palette:e.themeColors},on:{input:function(t){return e.$emit("input",t)}}})],1)],1)]},proxy:!0}])})},Ue=[],Ne=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},He=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Ke=Object(p["a"])("Setting");let Ge=class extends l["d"]{async created(){await this.queryColors()}get themeColors(){return this.colors.map((e=>e.value))}get backgroundColor(){var e;return null!==(e=this.value)&&void 0!==e?e:null}};Ne([Ke.State,He("design:type",Object)],Ge.prototype,"colors",void 0),Ne([Ke.Action,He("design:type",Object)],Ge.prototype,"queryColors",void 0),Ne([Object(l["b"])(),He("design:type",Object)],Ge.prototype,"value",void 0),Ne([Object(l["b"])(),He("design:type","function"===typeof(Le="undefined"!==typeof y.a&&y.a)?Le:Object)],Ge.prototype,"parameters",void 0),Ge=Ne([l["a"]],Ge);var Ye=Ge,Je=Ye,We=i("7cbe"),Xe=i("b498"),Ze=Object(q["a"])(Je,Ve,Ue,!1,null,null,null),et=Ze.exports;M()(Ze,"components",{QInput:je["a"],QIcon:R["a"],QPopupProxy:We["a"],QColor:Xe["a"]});var tt,it=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("TinyEditor",{attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},nt=[],at=i("bd7a"),ot=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},st=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let lt=class extends l["d"]{};ot([Object(l["b"])(),st("design:type",Object)],lt.prototype,"value",void 0),ot([Object(l["b"])(),st("design:type","function"===typeof(tt="undefined"!==typeof y.a&&y.a)?tt:Object)],lt.prototype,"parameters",void 0),lt=ot([Object(l["a"])({components:{TinyEditor:at["a"]}})],lt);var rt,ct=lt,pt=ct,dt=Object(q["a"])(pt,it,nt,!1,null,null,null),ut=dt.exports,ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("MediaSelect",{staticClass:"full-width q-mt-xs",attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)},"input-computed":function(t){return e.$emit("input-computed",t)}}})],1)},mt=[],gt=i("ba9a"),bt=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ht=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let vt=class extends l["d"]{};bt([Object(l["b"])(),ht("design:type",Object)],vt.prototype,"value",void 0),bt([Object(l["b"])(),ht("design:type","function"===typeof(rt="undefined"!==typeof y.a&&y.a)?rt:Object)],vt.prototype,"parameters",void 0),vt=bt([Object(l["a"])({components:{MediaSelect:gt["a"]}})],vt);var yt,Ot=vt,jt=Ot,wt=Object(q["a"])(jt,ft,mt,!1,null,null,null),xt=wt.exports,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.parameters.displayValue?i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("q-toggle",{attrs:{label:e.model,"true-value":e.parameters.trueValue,"false-value":e.parameters.falseValue},on:{input:e.onChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):i("div",[i("q-toggle",{attrs:{label:e.parameters.label},on:{input:e.onChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},qt=[],_t=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},St=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Rt=class extends l["d"]{constructor(){super(...arguments),this.model=!1}created(){this.model=this.value}onChange(){this.$emit("input",this.model)}};_t([Object(l["b"])(),St("design:type",Object)],Rt.prototype,"value",void 0),_t([Object(l["b"])(),St("design:type","function"===typeof(yt="undefined"!==typeof y.a&&y.a)?yt:Object)],Rt.prototype,"parameters",void 0),Rt=_t([l["a"]],Rt);var kt=Rt,Mt=kt,Pt=i("9564"),Dt=Object(q["a"])(Mt,Ct,qt,!1,null,null,null),$t=Dt.exports;M()(Dt,"components",{QToggle:Pt["a"]});var zt,It=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-select",{attrs:{label:e.parameters.label,options:e.productAttributes,"option-label":"name","option-value":"id","map-options":"","emit-value":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},Ft=[],At=i("f0f3"),Bt=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Qt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Tt=class extends l["d"]{constructor(){super(...arguments),this.productAttributes=[]}created(){At["b"].get(At["a"].generate("numbernine_admin_commerce_product_attribute_get_collection")).then((e=>{this.productAttributes=e.data}))}get model(){const e=parseInt(this.value);return isNaN(e)?null:e}set model(e){e&&e>0&&this.$emit("input",e)}};Bt([Object(l["b"])(),Qt("design:type",Object)],Tt.prototype,"value",void 0),Bt([Object(l["b"])(),Qt("design:type","function"===typeof(zt="undefined"!==typeof y.a&&y.a)?zt:Object)],Tt.prototype,"parameters",void 0),Tt=Bt([l["a"]],Tt);var Et=Tt,Lt=Et,Vt=Object(q["a"])(Lt,It,Ft,!1,null,null,null),Ut=Vt.exports;M()(Vt,"components",{QSelect:X["a"]});var Nt,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-select",{attrs:{filled:"","stack-label":"",value:e.value,label:e.parameters.label,options:e.parameters.choices,"option-label":"label","option-value":"value","map-options":"","emit-value":""},on:{input:function(t){return e.$emit("input",t)}}})},Kt=[],Gt=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Yt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Jt=class extends l["d"]{};Gt([Object(l["b"])(),Yt("design:type",Object)],Jt.prototype,"value",void 0),Gt([Object(l["b"])(),Yt("design:type","function"===typeof(Nt="undefined"!==typeof y.a&&y.a)?Nt:Object)],Jt.prototype,"parameters",void 0),Jt=Gt([l["a"]],Jt);var Wt=Jt,Xt=Wt,Zt=Object(q["a"])(Xt,Ht,Kt,!1,null,null,null),ei=Zt.exports;M()(Zt,"components",{QSelect:X["a"]});var ti,ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("SlidableInput",{staticClass:"col-grow",attrs:{min:e.parameters.min,max:e.parameters.max,suffix:e.parameters.suffix},on:{input:function(t){return e.$emit("input",e.model)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},ni=[],ai=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},oi=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let si=class extends l["d"]{constructor(){super(...arguments),this.model=0}created(){this.model=this.value?parseInt(this.value):this.parameters.min}};ai([Object(l["b"])(),oi("design:type",Object)],si.prototype,"value",void 0),ai([Object(l["b"])(),oi("design:type","function"===typeof(ti="undefined"!==typeof y.a&&y.a)?ti:Object)],si.prototype,"parameters",void 0),si=ai([Object(l["a"])({components:{SlidableInput:xe}})],si);var li,ri=si,ci=ri,pi=Object(q["a"])(ci,ii,ni,!1,null,null,null),di=pi.exports,ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.parameters.editable?i("q-input",{attrs:{label:e.parameters.label,value:e.value,dense:"",borderless:""},on:{input:function(t){return e.$emit("input",t)}}}):e._e(),i("q-field",{attrs:{label:e.parameters.editable?"":e.parameters.label,borderless:"","stack-label":""}},[i("q-slider",{attrs:{value:e.valueInt,min:e.parameters.min,max:e.parameters.max,step:e.parameters.step,label:"","label-always":"","label-value":e.value+e.parameters.suffix},on:{input:function(t){return e.$emit("input",t)}}})],1)],1)},fi=[],mi=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},gi=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let bi=class extends l["d"]{get valueInt(){return parseInt(this.value)}};mi([Object(l["b"])(),gi("design:type",Object)],bi.prototype,"value",void 0),mi([Object(l["b"])(),gi("design:type","function"===typeof(li="undefined"!==typeof y.a&&y.a)?li:Object)],bi.prototype,"parameters",void 0),bi=mi([l["a"]],bi);var hi=bi,vi=hi,yi=i("c1d0"),Oi=Object(q["a"])(vi,ui,fi,!1,null,null,null),ji=Oi.exports;M()(Oi,"components",{QInput:je["a"],QField:_["a"],QSlider:yi["a"]});var wi,xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-col-gutter-md relative-position q-mt-lg items-center"},[i("div",{staticClass:"absolute ellipsis control-label"},[e._v("\n        "+e._s(e.parameters.label)+"\n    ")]),i("div",{class:"col-"+(e.parameters.suffix?7:8)},[i("q-slider",{attrs:{min:e.parameters.min,max:e.parameters.max,step:e.parameters.step,"label-value":e.model+e.parameters.suffix},on:{input:function(t){return e.$emit("input",e.model)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),i("div",{class:"col-"+(e.parameters.suffix?5:4)},[i("SlidableInput",{staticClass:"col-grow",attrs:{min:e.parameters.min,max:e.parameters.max,suffix:e.parameters.suffix},on:{input:function(t){return e.$emit("input",e.model)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)])},Ci=[],qi=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},_i=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Si=class extends l["d"]{constructor(){super(...arguments),this.model=0}created(){this.model=this.value?parseInt(this.value):this.parameters.min}};qi([Object(l["b"])(),_i("design:type",Object)],Si.prototype,"value",void 0),qi([Object(l["b"])(),_i("design:type","function"===typeof(wi="undefined"!==typeof y.a&&y.a)?wi:Object)],Si.prototype,"parameters",void 0),Si=qi([Object(l["a"])({components:{SlidableInput:xe}})],Si);var Ri=Si,ki=Ri,Mi=Object(q["a"])(ki,xi,Ci,!1,null,null,null),Pi=Mi.exports;M()(Mi,"components",{QSlider:yi["a"]});var Di,$i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-field",{staticClass:"full-width",attrs:{label:e.parameters.label,"stack-label":"",borderless:""},scopedSlots:e._u([{key:"control",fn:function(){return[i("q-btn-toggle",{staticClass:"full-width q-pt-xs",attrs:{spread:"",value:e.value,options:[{value:"left",slot:"left"},{value:"center",slot:"center"},{value:"right",slot:"right"}]},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"left",fn:function(){return[i("q-icon",{attrs:{name:"format_align_left"}})]},proxy:!0},{key:"center",fn:function(){return[i("q-icon",{attrs:{name:"format_align_center"}})]},proxy:!0},{key:"right",fn:function(){return[i("q-icon",{attrs:{name:"format_align_right"}})]},proxy:!0}])})]},proxy:!0}])})},zi=[],Ii=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Fi=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ai=class extends l["d"]{};Ii([Object(l["b"])(),Fi("design:type",Object)],Ai.prototype,"value",void 0),Ii([Object(l["b"])(),Fi("design:type","function"===typeof(Di="undefined"!==typeof y.a&&y.a)?Di:Object)],Ai.prototype,"parameters",void 0),Ai=Ii([l["a"]],Ai);var Bi=Ai,Qi=Bi,Ti=Object(q["a"])(Qi,$i,zi,!1,null,null,null),Ei=Ti.exports;M()(Ti,"components",{QField:_["a"],QBtnToggle:S["a"],QIcon:R["a"]});var Li,Vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-input",{attrs:{filled:"","stack-label":"",value:e.value,label:e.parameters.label},on:{input:function(t){return e.$emit("input",t)}}})},Ui=[],Ni=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Hi=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ki=class extends l["d"]{};Ni([Object(l["b"])(),Hi("design:type",Object)],Ki.prototype,"value",void 0),Ni([Object(l["b"])(),Hi("design:type","function"===typeof(Li="undefined"!==typeof y.a&&y.a)?Li:Object)],Ki.prototype,"parameters",void 0),Ki=Ni([l["a"]],Ki);var Gi=Ki,Yi=Gi,Ji=Object(q["a"])(Yi,Vi,Ui,!1,null,null,null),Wi=Ji.exports;M()(Ji,"components",{QInput:je["a"]});var Xi,Zi={FormControlTextBox:Wi,FormControlTextAlign:Ei,FormControlBorders:De,FormControlSelect:ei,FormControlColor:et,FormControlEditor:ut,FormControlImage:xt,FormControlOnOffSwitch:$t,FormControlSlider:ji,FormControlSliderInput:Pi,FormControlSlidableInput:di,FormControlButtonToggle:Ee,FormControlProductAttribute:Ut,FormControlFlexAlign:D,FormControlFlexJustify:L,FormControlMenu:ee},en=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},tn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const nn=Object(p["a"])("PageBuilder");let an=class extends l["d"]{formControlName(e){return"FormControl"+e}async update(e,t){t.hasOwnProperty("parameter")&&t.hasOwnProperty("value")&&(e=t.parameter,t=t.value),this.isResponsive(e)?await this.updateComponentParameter({id:this.component.id,parameter:e,value:{[this.viewSize]:t},merge:!0}):await this.updateComponentParameter({id:this.component.id,parameter:e,value:t}),this.$forceUpdate(),d["a"].emit("PageBuilder:update-parameter-after")}async updateComputed(e,t){t.hasOwnProperty("parameter")&&t.hasOwnProperty("value")&&(e=t.parameter,t=t.value),await this.updateComponentComputedParameter({id:this.component.id,parameter:e,value:t}),this.$forceUpdate(),d["a"].emit("PageBuilder:update-parameter-after")}fieldValue(e){return this.isResponsive(e)?this.component.parameters[e].hasOwnProperty(this.viewSize)?this.component.parameters[e][this.viewSize]:"":this.component.parameters[e]}isResponsive(e){return this.component.responsive.includes(e)}get form(){var e;return null!==(e=this.pageComponentForms[this.component.name])&&void 0!==e?e:null}};en([nn.State,tn("design:type",Object)],an.prototype,"viewSize",void 0),en([nn.State,tn("design:type",Object)],an.prototype,"pageComponentForms",void 0),en([nn.Action,tn("design:type",Object)],an.prototype,"updateComponentParameter",void 0),en([nn.Action,tn("design:type",Object)],an.prototype,"updateComponentComputedParameter",void 0),en([Object(l["b"])(),tn("design:type","function"===typeof(Xi="undefined"!==typeof g.a&&g.a)?Xi:Object)],an.prototype,"component",void 0),an=en([Object(l["a"])({components:Zi})],an);var on,sn=an,ln=sn,rn=Object(q["a"])(ln,u,f,!1,null,null,null),cn=rn.exports,pn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",on:{mousemove:e.updateContextMenuOffset}},[e.tree.length>0?i("q-sortable-tree",{attrs:{nodes:e.tree,"default-expand-all":!0,"node-key":"id",selected:e.selectedId},on:{select:e.select,dblclick:e.edit,rightclick:e.showContextMenu,change:e.onTreeChange,mouseenter:e.highlight},scopedSlots:e._u([{key:"default-header",fn:function(t){var n=t.node,a=t.labelKey;return[n.avatar?i("q-avatar",{staticClass:"q-mr-sm"},[i("img",{attrs:{src:n.avatar}})]):e._e(),n.icon?i("q-icon",{staticClass:"q-mr-sm",attrs:{name:n.icon}}):e._e(),i("div",[e._v("\n                "+e._s(n[a])+"\n            ")]),n.parameters.visibility?i("q-space"):e._e(),n.parameters.visibility?i("q-btn",{attrs:{flat:"",dense:"",size:"xs",color:n.parameters.visibility.includes(e.viewSize)?"green":"red",icon:n.parameters.visibility.includes(e.viewSize)?"visibility":"visibility_off"},on:{click:function(t){return e.update(n)},dblclick:function(e){e.stopPropagation(),e.preventDefault()}}}):e._e()]}}],null,!1,3715397960)}):e._e(),i("q-menu",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{offset:e.offset,"context-menu":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[i("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.duplicateAction=!0}}},[i("q-item-section",[e._v("Duplicate")])],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.presetAction=!0}}},[i("q-item-section",[e._v("Save as preset")])],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.shortcodeAction=!0}}},[i("q-item-section",[e._v("Show shortcode")])],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.deleteAction=!0}}},[i("q-item-section",[e._v("Delete")])],1)],1)],1),i("PageBuilderContextMenuActions",{attrs:{"duplicate-action":e.duplicateAction,"preset-action":e.presetAction,"shortcode-action":e.shortcodeAction,"delete-action":e.deleteAction},on:{"update:duplicateAction":function(t){e.duplicateAction=t},"update:duplicate-action":function(t){e.duplicateAction=t},"update:presetAction":function(t){e.presetAction=t},"update:preset-action":function(t){e.presetAction=t},"update:shortcodeAction":function(t){e.shortcodeAction=t},"update:shortcode-action":function(t){e.shortcodeAction=t},"update:deleteAction":function(t){e.deleteAction=t},"update:delete-action":function(t){e.deleteAction=t}}})],1)},dn=[],un=i("91c4"),fn=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},mn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const gn=Object(p["a"])("PageBuilder");let bn=class extends l["d"]{constructor(){super(...arguments),this.tree=[],this.contextMenu=!1,this.offset=[0,0],this.duplicateAction=!1,this.presetAction=!1,this.shortcodeAction=!1,this.deleteAction=!1}updateTree(){return this.$set(this,"tree",Object(c["cloneDeep"])(this.pageComponents))}onTreeChange(e){Object(c["isEqual"])(this.pageComponents,e)||this.setPageComponents(e)}updateContextMenuOffset(e){if(!this.container)return[0,0];const t=this.container.getBoundingClientRect();this.offset=[-(e.pageX-t.left),e.pageY-t.top-t.height]}highlight(e){this.setHighlightedId(e.id)}select(e){this.contextMenu=!1,this.setSelectedId(e.id)}edit(e){e&&this.selectedId===e.id&&this.$emit("edit",e.id)}showContextMenu(e){this.contextMenu=!1,this.select(e),this.$nextTick((()=>this.contextMenu=!0))}async update(e){const t=[...e.parameters.visibility];t.includes(this.viewSize)?t.splice(t.indexOf(this.viewSize),1):t.push(this.viewSize),await this.updateComponentParameter({id:e.id,parameter:"visibility",value:t}),this.$forceUpdate(),d["a"].emit("PageBuilder:update-parameter-after")}};fn([gn.State,mn("design:type",Object)],bn.prototype,"pageComponents",void 0),fn([gn.State,mn("design:type",Object)],bn.prototype,"highlightedId",void 0),fn([gn.State,mn("design:type",Object)],bn.prototype,"selectedId",void 0),fn([gn.State,mn("design:type",Object)],bn.prototype,"viewSize",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"setPageComponents",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"setHighlightedId",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"setSelectedId",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"toggleContextMenu",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"duplicateComponent",void 0),fn([gn.Action,mn("design:type",Object)],bn.prototype,"updateComponentParameter",void 0),fn([Object(l["c"])("container"),mn("design:type","function"===typeof(on="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?on:Object)],bn.prototype,"container",void 0),fn([Object(l["e"])("pageComponents",{deep:!0}),mn("design:type",Function),mn("design:paramtypes",[]),mn("design:returntype",Array)],bn.prototype,"updateTree",null),bn=fn([Object(l["a"])({components:{PageBuilderContextMenuActions:un["a"]}})],bn);var hn=bn,vn=hn,yn=(i("9a5c"),i("cb32")),On=i("2c91"),jn=i("9c40"),wn=i("4e73"),xn=i("1c1c"),Cn=i("66e5"),qn=i("4074"),_n=i("7f67"),Sn=Object(q["a"])(vn,pn,dn,!1,null,null,null),Rn=Sn.exports;M()(Sn,"components",{QAvatar:yn["a"],QIcon:R["a"],QSpace:On["a"],QBtn:jn["a"],QMenu:wn["a"],QList:xn["a"],QItem:Cn["a"],QItemSection:qn["a"]}),M()(Sn,"directives",{ClosePopup:_n["a"]});var kn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{value:e.value},on:{input:function(t){return e.$emit("input",!1)}}},[i("q-card",{staticStyle:{"max-width":"80vw"}},[i("q-card-section",{staticClass:"flex wrap q-gutter-md"},e._l(e.availablePageComponents,(function(t,n){return i("q-list",{key:n,attrs:{bordered:"",separator:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(t){return e.$emit("component-click",n)}}},[i("q-item-section",[e._v(e._s(t.label))])],1)],1)})),1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Close",color:"secondary"},on:{click:function(t){return e.$emit("close")}}})],1)],1)],1)},Mn=[],Pn=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Dn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const $n=Object(p["a"])("PageBuilder");let zn=class extends l["d"]{};Pn([$n.State,Dn("design:type",Object)],zn.prototype,"availablePageComponents",void 0),Pn([Object(l["b"])({type:Boolean}),Dn("design:type",Boolean)],zn.prototype,"value",void 0),zn=Pn([l["a"]],zn);var In=zn,Fn=In,An=i("24e8"),Bn=i("f09f"),Qn=i("a370"),Tn=i("4b7e"),En=i("714f"),Ln=Object(q["a"])(Fn,kn,Mn,!1,null,null,null),Vn=Ln.exports;M()(Ln,"components",{QDialog:An["a"],QCard:Bn["a"],QCardSection:Qn["a"],QList:xn["a"],QItem:Cn["a"],QItemSection:qn["a"],QCardActions:Tn["a"],QBtn:jn["a"]}),M()(Ln,"directives",{Ripple:En["a"]});var Un=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Nn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Hn=Object(p["a"])("PageBuilder");let Kn=class extends l["d"]{constructor(){super(...arguments),this.panel="structure",this.tab="components",this.openDialog=!1,this.presetsDialog=!1,this.isPublishing=!1,this.componentToAdd=null}created(){d["a"].on("PageBuilder:edit-component",(()=>{this.tab="form"})),d["a"].on("PageBuilder:add-to-content",(()=>{this.openDialog=!0}))}get selectedComponent(){return this.getComponentById(this.selectedId)}addComponentToContent(e){const t=Object(c["cloneDeep"])(this.availablePageComponents[e]);t.id=Object(r["a"])(),this.insertComponent({componentToInsert:t,siblingId:this.selectedId,position:this.dropPosition}),this.closeDialog()}addPresetToContent(e){const t=Object(c["cloneDeep"])(e.components);Object(s["a"])(t),t.forEach((e=>{this.insertComponent({componentToInsert:e,siblingId:this.selectedId,position:this.dropPosition})})),this.closeDialog()}async publishComponents(){this.isPublishing=!0,this.$route.params.id?await this.publish({id:this.$route.params.id}):this.$route.params.area&&await this.publish({area:this.$route.params.area}),this.isPublishing=!1}async showComponentPresets(e){this.componentToAdd=e,await this.fetchPresets(e);const t=this.componentPresets[e];if(0===t.length)return this.addComponentToContent(e),void this.closeDialog();this.presetsDialog=!0}closeDialog(){this.componentToAdd=null,this.openDialog=!1,this.presetsDialog=!1}setView(e){this.setViewSize(e),d["a"].emit("Frame:resize"),d["a"].emit("Frame:manual-view-size")}openOptions(){this.$emit("open-page-options")}};Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"selectedId",void 0),Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"highlightedId",void 0),Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"dropPosition",void 0),Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"availablePageComponents",void 0),Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"componentPresets",void 0),Un([Hn.State,Nn("design:type",Object)],Kn.prototype,"viewSize",void 0),Un([Hn.Action,Nn("design:type",Object)],Kn.prototype,"publish",void 0),Un([Hn.Action,Nn("design:type",Object)],Kn.prototype,"insertComponent",void 0),Un([Hn.Action,Nn("design:type",Object)],Kn.prototype,"fetchPresets",void 0),Un([Hn.Action,Nn("design:type",Object)],Kn.prototype,"setViewSize",void 0),Un([Hn.Getter,Nn("design:type",Object)],Kn.prototype,"getComponentById",void 0),Un([Object(l["b"])({type:Boolean}),Nn("design:type",Boolean)],Kn.prototype,"hasOptions",void 0),Kn=Un([Object(l["a"])({components:{PageBuilderComponentsTree:Rn,PageBuilderComponentForm:cn,PageBuilderAvailableComponentsDialog:Vn}})],Kn);var Gn=Kn,Yn=Gn,Jn=(i("c061"),i("65c6")),Wn=i("05c0"),Xn=i("429b"),Zn=i("7460"),ea=i("adad"),ta=i("823b"),ia=Object(q["a"])(Yn,a,o,!1,null,null,null);t["a"]=ia.exports;M()(ia,"components",{QToolbar:Jn["a"],QBtn:jn["a"],QTooltip:Wn["a"],QSpace:On["a"],QBtnToggle:S["a"],QIcon:R["a"],QTabs:Xn["a"],QTab:Zn["a"],QTabPanels:ea["a"],QTabPanel:ta["a"],QDialog:An["a"],QCard:Bn["a"],QCardSection:Qn["a"],QList:xn["a"],QItem:Cn["a"],QItemSection:qn["a"],QCardActions:Tn["a"]}),M()(ia,"directives",{Ripple:En["a"]})},3471:function(e,t,i){"use strict";var n=i("3efa"),a=i.n(n);a.a},"3ae7":function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e[e["EditorInsert"]=0]="EditorInsert",e[e["MediaSelect"]=1]="MediaSelect",e[e["View"]=2]="View"}(n||(n={}))},"3efa":function(e,t,i){},"440d":function(e,t,i){"use strict";function n(e){const t=Math.floor(Math.log(e)/Math.log(1024)),i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];return(e/Math.pow(1024,t)).toFixed(2)+" "+i[t]}function a(e){return e.replace(/\\/g,"/").replace(/\/[^/]*$/,"")}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return a}))},4794:function(e,t,i){},"4b19":function(e,t,i){},6715:function(e,t,i){},"6da3":function(e,t,i){"use strict";var n=i("b18e"),a=i.n(n);a.a},"8bc4":function(e,t,i){"use strict";var n=i("e2a9"),a=i.n(n);a.a},"8cfb":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{value:e.value}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"delete_forever",color:"negative","text-color":"white"}}),e.selected.length>=1?i("span",{staticClass:"q-ml-sm"},[e._v("Do you want to permanently delete selected user"+e._s(e.selected.length>1?"s":"")+"?")]):e._e()],1),i("q-card-section",{staticClass:"row justify-center"},[i("q-list",[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",{attrs:{avatar:""}},[i("q-radio",{attrs:{val:"reassign"},model:{value:e.associatedContent,callback:function(t){e.associatedContent=t},expression:"associatedContent"}})],1),i("q-item-section",[i("q-item-label",[e._v("Reassign all associated content to current user")]),i("q-item-label",{attrs:{caption:""}},[e._v("Comments won't be reassigned, but anonymized instead.")])],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",{attrs:{avatar:""}},[i("q-radio",{attrs:{val:"delete"},model:{value:e.associatedContent,callback:function(t){e.associatedContent=t},expression:"associatedContent"}})],1),i("q-item-section",[i("q-item-label",[e._v("Delete all associated content")]),i("q-item-label",{attrs:{caption:""}},[e._v("Comments won't be deleted, but anonymized instead.")])],1)],1)],1)],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){return e.$emit("close")}}}),i("q-btn",{attrs:{flat:"",loading:e.deleteLoading,label:"Yes",color:"primary",autofocus:""},on:{click:e.confirmDeleteAction,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmDeleteAction(t)}}})],1)],1)],1)},a=[],o=i("60a3"),s=i("4bb5"),l=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const c=Object(s["a"])("User");let p=class extends o["d"]{constructor(){super(...arguments),this.associatedContent="reassign",this.deleteLoading=!1}async confirmDeleteAction(){this.deleteLoading=!0,await this.deleteUsers({users:this.selected,associatedContent:this.associatedContent}),this.deleteLoading=!1,this.$emit("done")}};l([c.Action,r("design:type",Object)],p.prototype,"deleteUsers",void 0),l([Object(o["b"])(),r("design:type",Object)],p.prototype,"value",void 0),l([Object(o["b"])(),r("design:type",Array)],p.prototype,"selected",void 0),p=l([o["a"]],p);var d=p,u=d,f=i("2877"),m=i("24e8"),g=i("f09f"),b=i("a370"),h=i("cb32"),v=i("1c1c"),y=i("66e5"),O=i("4074"),j=i("3786"),w=i("0170"),x=i("4b7e"),C=i("9c40"),q=i("714f"),_=i("eebe"),S=i.n(_),R=Object(f["a"])(u,n,a,!1,null,null,null);t["a"]=R.exports;S()(R,"components",{QDialog:m["a"],QCard:g["a"],QCardSection:b["a"],QAvatar:h["a"],QList:v["a"],QItem:y["a"],QItemSection:O["a"],QRadio:j["a"],QItemLabel:w["a"],QCardActions:x["a"],QBtn:C["a"]}),S()(R,"directives",{Ripple:q["a"]})},9632:function(e,t,i){"use strict";var n=i("d373"),a=i.n(n);a.a},"9a5c":function(e,t,i){"use strict";var n=i("cde7"),a=i.n(n);a.a},a645:function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{height:e.height-42+"px !important",width:e.width,margin:"0 auto"}},[i("iframe",{ref:"dynamicFrame",staticClass:"fit no-border",attrs:{src:e.src},on:{load:e.onLoad}}),i("q-inner-loading",{staticStyle:{"background-color":"#ffffff"},attrs:{showing:e.loading}},[i("q-spinner-oval",{attrs:{size:"50px",color:"primary"}})],1)],1)},o=[],s=i("7905"),l=i("60a3"),r=i("4c28"),c=i("4bb5"),p=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=Object(c["a"])("PageBuilder");let f=class extends l["d"]{constructor(){super(...arguments),this.width=null,this.pageBuilderComponent=null}beforeDestroy(){var e;null===(e=this.pageBuilderComponent)||void 0===e||e.$destroy()}onLoad(){const e=this.iframe.contentDocument.body.getElementsByTagName("page-builder");if(e.length>0&&(this.pageBuilderComponent=r["a"].compile(e[0])),this.disableLinks){const e=this.iframe.contentDocument.body.getElementsByTagName("a");for(const t of e)t.addEventListener("click",(e=>e.preventDefault()))}this.$emit("loaded"),s["a"].on("Frame:manual-view-size",(()=>{this.width=this.viewWidth})),s["a"].on("Frame:auto-view-size",(()=>{this.width=null}))}onHeightChange(){this.iframe.height=this.height-42+"px"}get viewWidth(){switch(this.viewSize){case"sm":return"425px";case"md":return"768px";default:return"100%"}}};p([u.State,d("design:type",Object)],f.prototype,"viewSize",void 0),p([Object(l["c"])("dynamicFrame"),d("design:type","function"===typeof(n="undefined"!==typeof HTMLIFrameElement&&HTMLIFrameElement)?n:Object)],f.prototype,"iframe",void 0),p([Object(l["b"])(),d("design:type",String)],f.prototype,"src",void 0),p([Object(l["b"])(),d("design:type",Number)],f.prototype,"height",void 0),p([Object(l["b"])({type:Boolean}),d("design:type",Boolean)],f.prototype,"loading",void 0),p([Object(l["b"])({type:Boolean}),d("design:type",Boolean)],f.prototype,"disableLinks",void 0),p([Object(l["e"])("height"),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],f.prototype,"onHeightChange",null),f=p([l["a"]],f);var m=f,g=m,b=i("2877"),h=i("74f7"),v=i("1b41"),y=i("eebe"),O=i.n(y),j=Object(b["a"])(g,a,o,!1,null,null,null);t["a"]=j.exports;O()(j,"components",{QInnerLoading:h["a"],QSpinnerOval:v["a"]})},a72a:function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{class:{"q-pa-none":!e.popup},attrs:{flat:!e.popup}},[e.popup?i("q-card-section",{staticClass:"row q-py-sm"},[i("div",{staticClass:"text-h6",staticStyle:{"line-height":"2.3rem"}},[e._v("Select a file")]),i("q-space"),i("q-btn",{attrs:{flat:"",icon:"close"},on:{click:function(t){return e.show({value:!1,callback:null,options:null})}}})],1):e._e(),e.popup?i("q-separator"):e._e(),i("q-card-section",{staticClass:"q-py-sm row"},[i("q-tabs",{attrs:{dense:"",align:"left"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("q-tab",{attrs:{name:"explorer",label:"Media Library"}}),i("q-tab",{attrs:{name:"upload",label:"Upload Files"}})],1),i("q-space"),i("q-input",{staticClass:"q-mb-xs",attrs:{filled:"",dense:"",debounce:"300",label:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[""===e.filter?i("q-icon",{attrs:{name:"search"}}):i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){e.filter=""}}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),i("q-card-section",{staticClass:"scroll q-py-none",class:{"no-actions":!(e.hasSelectedFiles&&e.hasCallback),"middle-section":e.popup}},[i("q-tab-panels",{attrs:{"keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("q-tab-panel",{staticClass:"q-px-xs q-py-none",class:{"middle-section":e.popup},attrs:{name:"explorer"}},[i("MediaExplorer",{attrs:{multiple:e.multiple,popup:e.popup,filter:e.filter}})],1),i("q-tab-panel",{staticClass:"column",attrs:{name:"upload"}},[i("div",{staticClass:"q-gutter-x-md q-pb-md row justify-start items-center",staticStyle:{height:"60px"}},[i("q-checkbox",{attrs:{dense:"",label:"Resize before upload"},model:{value:e.resizeOptions.enabled,callback:function(t){e.$set(e.resizeOptions,"enabled",t)},expression:"resizeOptions.enabled"}}),e.resizeOptions.enabled?i("div",{staticClass:"q-gutter-x-md q-mt-none row justify-start items-center"},[i("q-input",{staticStyle:{"max-width":"70px"},attrs:{dense:"",type:"number",label:"Max width"},model:{value:e.resizeOptions.width,callback:function(t){e.$set(e.resizeOptions,"width",e._n(t))},expression:"resizeOptions.width"}}),i("q-input",{staticStyle:{"max-width":"70px"},attrs:{dense:"",type:"number",label:"Max height"},model:{value:e.resizeOptions.height,callback:function(t){e.$set(e.resizeOptions,"height",e._n(t))},expression:"resizeOptions.height"}}),i("q-select",{staticStyle:{width:"70px"},attrs:{dense:"",options:e.mimeTypes,"emit-value":"","map-options":"",label:"Format"},model:{value:e.resizeOptions.mimeType,callback:function(t){e.$set(e.resizeOptions,"mimeType",t)},expression:"resizeOptions.mimeType"}}),"image/jpeg"===e.resizeOptions.mimeType?i("div",{staticStyle:{"max-width":"150px"}},[i("q-badge",{attrs:{color:"primary"}},[e._v("Quality: "+e._s(e.resizeOptions.quality))]),i("q-slider",{staticStyle:{width:"150px"},attrs:{dense:"",min:0,max:100,step:1,label:"",color:"primary"},model:{value:e.resizeOptions.quality,callback:function(t){e.$set(e.resizeOptions,"quality",t)},expression:"resizeOptions.quality"}})],1):e._e()],1):e._e()],1),i("MediaUploader",{attrs:{sequential:"","auto-upload":!0,"resize-options":e.resizeOptions,"upload-url":e.uploadUrl},on:{"file-uploaded":e.onFileUploaded}})],1)],1)],1),e.hasSelectedFiles&&e.hasCallback?i("q-separator"):e._e(),e.hasSelectedFiles&&e.hasCallback?i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("Select files")])],1):e._e()],1)},o=[],s=i("60a3"),l=i("f0f3"),r=i("4bb5"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-height"},[!e.hasCallback||e.multiple?i("div",{staticClass:"row q-gutter-x-md"},[i("div",{staticClass:"row q-gutter-x-md"},[i("q-checkbox",{attrs:{label:"Select multiple"},on:{input:e.onSelectMultipleModeChange},model:{value:e.isSelectMultipleMode,callback:function(t){e.isSelectMultipleMode=t},expression:"isSelectMultipleMode"}}),e.isSelectMultipleMode&&e.hasSelectedFiles?i("q-btn",{attrs:{color:"primary",label:"Cancel selection"},on:{click:e.cancelMediaSelection}}):e._e(),e.isSelectMultipleMode&&e.hasSelectedFiles?i("q-btn",{staticClass:"q-ml-md",attrs:{color:"negative",label:"Delete selection"},on:{click:e.deleteMediaSelection}}):e._e()],1)]):e._e(),i("div",{staticClass:"q-pt-sm full-height",class:{row:e.popup}},[e.popup?i("q-scroll-area",{staticClass:"full-height",class:{"col-9":e.popup&&e.hasSelectedFiles,col:e.popup&&!e.hasSelectedFiles}},[i("q-infinite-scroll",{ref:"infiniteScroll",staticClass:"flex wrap q-gutter-md q-pl-xs q-pt-xs full-height",attrs:{offset:250},on:{load:e.onLoad},scopedSlots:e._u([{key:"loading",fn:function(){return[i("div",{staticClass:"row justify-center q-my-md"},[i("q-spinner",{attrs:{color:"primary",size:"3em",thickness:2}})],1)]},proxy:!0}],null,!1,801452977)},e._l(e.files,(function(t,n){return i("MediaThumbnail",{key:t.id,attrs:{file:t},nativeOn:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.setBulkSelectFirstIndex(n)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.bulkMediaSelect(n):null}]}})})),1)],1):i("q-infinite-scroll",{ref:"infiniteScroll",staticClass:"flex wrap q-gutter-md q-pl-xs q-pt-xs full-height",attrs:{offset:250},on:{load:e.onLoad},scopedSlots:e._u([{key:"loading",fn:function(){return[i("div",{staticClass:"row justify-center q-my-md"},[i("q-spinner",{attrs:{color:"primary",size:"3em",thickness:2}})],1)]},proxy:!0}])},e._l(e.files,(function(t,n){return i("MediaThumbnail",{key:t.id,attrs:{file:t},nativeOn:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.setBulkSelectFirstIndex(n)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.bulkMediaSelect(n):null}]}})})),1),e.popup&&e.hasSelectedFiles?i("q-scroll-area",{staticClass:"full-height col-3"},[i("MediaDetailsPane",{model:{value:e.currentFile,callback:function(t){e.currentFile=t},expression:"currentFile"}})],1):e._e()],1),e.currentFile&&!e.popup?i("MediaDetailsDialog",{attrs:{file:e.currentFile},on:{previous:function(t){return e.moveIndex(-1)},next:function(t){return e.moveIndex(1)}},model:{value:e.showDetails,callback:function(t){e.showDetails=t},expression:"showDetails"}}):e._e()],1)},p=[],d=i("ef35"),u=i("2ef0"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{value:e.value,persistent:"","full-height":"","full-width":""},on:{input:function(t){return e.$emit("input",t)}}},[i("q-card",{staticClass:"column full-height"},[i("q-card-section",{staticClass:"row justify-between"},[i("div",{staticClass:"text-h6"},[e._v("Media details")]),i("q-btn-group",{attrs:{unelevated:"",flat:""}},[i("q-btn",{attrs:{icon:"keyboard_arrow_left"},on:{click:e.previous}}),i("q-btn",{attrs:{icon:"keyboard_arrow_right"},on:{click:e.next}})],1),i("q-btn",{attrs:{flat:"",icon:"close"},on:{click:e.close}})],1),i("q-separator"),i("q-card-section",{staticClass:"col row"},[i("div",{staticClass:"col-9 row items-center justify-center full-height"},["image"===e.fileType?i("q-img",{staticClass:"full-height",style:{maxHeight:e.file.sizes.large.height+"px"},attrs:{src:e.large,alt:e.file.title,contain:""}}):e._e(),"video"===e.fileType?i("q-video",{staticClass:"fit",attrs:{src:e.file.path}}):e._e()],1),i("div",{staticClass:"col-3 column q-pl-md"},[i("div",[i("b",[e._v("File name:")]),e._v(" "+e._s(e.file.slug)+"\n                ")]),i("div",[i("b",[e._v("File type:")]),e._v(" "+e._s(e.file.mimeType)+"\n                ")]),i("div",[i("b",[e._v("Uploaded on:")]),e._v(" "+e._s(e.createdAt)+"\n                ")]),i("div",[i("b",[e._v("File size:")]),e._v(" "+e._s(e.fileSize)+"\n                ")]),"image"===e.fileType||"video"===e.fileType?i("div",[i("b",[e._v("File dimensions: ")]),i("span",[e._v(e._s(e.file.width)+" x "+e._s(e.file.height))])]):e._e()])]),i("q-separator"),i("q-card-actions",{staticClass:"row justify-end q-pa-md"},[i("q-btn",{attrs:{color:e.isMediaSelected?"negative":"primary",label:e.isMediaSelected?"Unselect file":"Select file"},on:{click:e.toggleSelect}})],1)],1)],1)},m=[],g=i("b9b9"),b=i.n(g),h=i("df7c"),v=i.n(h),y=i("a8c2"),O=i.n(y),j=i("440d"),w=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},x=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const C=Object(r["a"])("MediaLibrary");let q=class extends s["d"]{created(){window.addEventListener("keyup",(e=>{if(this.value)switch(e.key){case"Left":case"ArrowLeft":this.previous();break;case"Right":case"ArrowRight":this.next();break;case"Escape":this.close();break;case" ":this.toggleSelect();break}}))}previous(){this.$emit("previous")}next(){this.$emit("next")}close(){this.$emit("input",!1)}toggleSelect(){this.selectFile(this.file)}get large(){return`${h["dirname"](this.file.path)}/${this.file.sizes.large.filename}`}get createdAt(){return b()(this.file.createdAt,"longDate")}get fileSize(){return Object(j["b"])(this.file.fileSize)}get isMediaSelected(){return this.isSelected(this.file)}get fileType(){return this.file.mimeType.replace(/\/.*/i,"")}};w([C.State,x("design:type",Object)],q.prototype,"selectedFiles",void 0),w([C.Action,x("design:type",Object)],q.prototype,"selectFile",void 0),w([C.Getter,x("design:type",Object)],q.prototype,"isSelected",void 0),w([Object(s["b"])({type:Boolean}),x("design:type",Boolean)],q.prototype,"value",void 0),w([Object(s["b"])(),x("design:type","function"===typeof(n="undefined"!==typeof O.a&&O.a)?n:Object)],q.prototype,"file",void 0),q=w([s["a"]],q);var _=q,S=_,R=i("2877"),k=i("24e8"),M=i("f09f"),P=i("a370"),D=i("e7a9"),$=i("9c40"),z=i("eb85"),I=i("068f"),F=i("6ac0"),A=i("4b7e"),B=i("eebe"),Q=i.n(B),T=Object(R["a"])(S,f,m,!1,null,null,null),E=T.exports;Q()(T,"components",{QDialog:k["a"],QCard:M["a"],QCardSection:P["a"],QBtnGroup:D["a"],QBtn:$["a"],QSeparator:z["a"],QImg:I["a"],QVideo:F["a"],QCardActions:A["a"]});var L,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.value?i("div",{staticClass:"q-gutter-y-md q-pa-md bg-grey-1"},[i("div",{staticClass:"row q-gutter-x-md"},[i("div",{staticClass:"col"},["image"===e.fileType?i("q-img",{attrs:{src:e.large,alt:e.value.title,contain:""}}):e._e(),"video"===e.fileType?i("q-video",{attrs:{src:e.value.path}}):e._e()],1),i("div",{staticClass:"col"},[i("div",[i("b",[e._v("File name:")]),e._v(" "+e._s(e.value.slug)+"\n            ")]),i("div",[i("b",[e._v("File type:")]),e._v(" "+e._s(e.value.mimeType)+"\n            ")]),i("div",[i("b",[e._v("Uploaded on:")]),e._v(" "+e._s(e.createdAt)+"\n            ")]),i("div",[i("b",[e._v("File size:")]),e._v(" "+e._s(e.fileSize)+"\n            ")]),"image"===e.fileType||"video"===e.fileType?i("div",[i("b",[e._v("File dimensions: ")]),i("span",[e._v(e._s(e.value.width)+" x "+e._s(e.value.height)+" pixels")])]):e._e()]),i("div",{staticClass:"q-mt-md"},[e._v("URL: "),i("a",{attrs:{href:e.absoluteUrl,target:"_blank"}},[e._v(e._s(e.absoluteUrl))])])]),e.mode!==e.MediaLibraryMode.View?i("div",{staticClass:"q-gutter-y-sm"},[i("q-input",{attrs:{dense:"",filled:"",label:"Title",debounce:"300"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}}),e.mode===e.MediaLibraryMode.EditorInsert?i("q-input",{attrs:{dense:"",filled:"",type:"textarea",autogrow:"",label:"Caption",debounce:"300"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.caption,callback:function(t){e.$set(e.value,"caption",t)},expression:"value.caption"}}):e._e(),i("q-input",{attrs:{dense:"",filled:"",label:"Alternative text",debounce:"300"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.alternativeText,callback:function(t){e.$set(e.value,"alternativeText",t)},expression:"value.alternativeText"}}),e.mode===e.MediaLibraryMode.EditorInsert?i("q-input",{attrs:{dense:"",filled:"",type:"textarea",autogrow:"",label:"Description",debounce:"300"},on:{input:function(t){return e.$emit("input",e.value)}},model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}}):e._e(),i("p",{staticClass:"text-bold q-mt-md"},[e._v("Media settings")]),i("q-select",{attrs:{dense:"",filled:"",options:e.fileSizesOptions,"map-options":"","emit-value":"",label:"Size"},model:{value:e.settings.size,callback:function(t){e.$set(e.settings,"size",t)},expression:"settings.size"}}),e.mode===e.MediaLibraryMode.EditorInsert?i("q-select",{attrs:{dense:"",filled:"",options:e.alignmentOptions,"map-options":"","emit-value":"",label:"Alignment"},model:{value:e.settings.alignment,callback:function(t){e.$set(e.settings,"alignment",t)},expression:"settings.alignment"}}):e._e(),e.mode===e.MediaLibraryMode.EditorInsert?i("q-select",{attrs:{dense:"",filled:"",options:e.linkOptions,"map-options":"","emit-value":"",label:"Link"},model:{value:e.settings.link,callback:function(t){e.$set(e.settings,"link",t)},expression:"settings.link"}}):e._e(),e.mode===e.MediaLibraryMode.EditorInsert&&"custom"===e.settings.link?i("q-input",{attrs:{dense:"",filled:"",label:"Link URL"},model:{value:e.settings.linkUrl,callback:function(t){e.$set(e.settings,"linkUrl",t)},expression:"settings.linkUrl"}}):e._e()],1):e._e()]):e._e()},U=[],N=i("3ae7"),H=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const G=Object(r["a"])("MediaLibrary");let Y=class extends s["d"]{constructor(){super(...arguments),this.settings={size:"medium",alignment:"center",link:"media",linkUrl:""},this.MediaLibraryMode=N["a"],this.alignmentOptions=[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"None",value:"none"}],this.linkOptions=[{label:"None",value:"none"},{label:"Media",value:"media"},{label:"Media page",value:"page"},{label:"Custom URL",value:"custom"}]}created(){this.settings=Object.assign({},this.mediaSettings)}get absoluteUrl(){return`${window.location.origin}${this.value.path}`}get large(){return`${v.a.dirname(this.value.path)}/${this.value.sizes.large.filename}`}get createdAt(){return b()(this.value.createdAt,"longDate")}get fileSize(){return Object(j["b"])(this.value.fileSize)}get fileType(){return this.value.mimeType.replace(/\/.*/i,"")}get fileSizesOptions(){return[{label:`Original size - ${this.value.width} x ${this.value.height}`,value:"original"},...Object.keys(this.value.sizes).map((e=>({label:`${Object(u["upperFirst"])(e)} - ${this.value.sizes[e].width} x ${this.value.sizes[e].height}`,value:e})))]}get mode(){var e,t;return null!==(t=null===(e=this.libraryOptions)||void 0===e?void 0:e.mode)&&void 0!==t?t:N["a"].View}onLinkOptionChanged(){"custom"!==this.settings.link&&(this.settings.linkUrl="")}onSettingsChanged(){this.updateMediaSettings(Object(u["cloneDeep"])(this.settings))}};H([G.State,K("design:type",Object)],Y.prototype,"libraryOptions",void 0),H([G.State,K("design:type",Object)],Y.prototype,"mediaSettings",void 0),H([G.Action,K("design:type",Object)],Y.prototype,"updateMediaSettings",void 0),H([Object(s["b"])(),K("design:type","function"===typeof(L="undefined"!==typeof O.a&&O.a)?L:Object)],Y.prototype,"value",void 0),H([Object(s["e"])("settings.link"),K("design:type",Function),K("design:paramtypes",[]),K("design:returntype",void 0)],Y.prototype,"onLinkOptionChanged",null),H([Object(s["e"])("settings",{deep:!0}),K("design:type",Function),K("design:paramtypes",[]),K("design:returntype",void 0)],Y.prototype,"onSettingsChanged",null),Y=H([s["a"]],Y);var J=Y,W=J,X=i("27f9"),Z=i("ddd8"),ee=Object(R["a"])(W,V,U,!1,null,null,null),te=ee.exports;Q()(ee,"components",{QImg:I["a"],QVideo:F["a"],QInput:X["a"],QSelect:Z["a"]});var ie,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mediafile row justify-center items-center shadow-2 relative-position",class:{selected:e.isSelected}},[e.thumbnail?i("q-img",{attrs:{src:e.thumbnail}}):i("div",[i("q-icon",{staticStyle:{"font-size":"7rem"},attrs:{name:"insert_drive_file",color:"primary"}}),i("div",{staticClass:"absolute-bottom row justify-center items-center bg-blue-grey-8 text-white translucent"},[i("span",{staticClass:"text-center text-mini"},[e._v(e._s(e.file.slug))])])],1)],1)},ae=[],oe=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},se=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const le=Object(r["a"])("MediaLibrary");let re=class extends s["d"]{get thumbnail(){return"image"===this.file.mimeType.substr(0,5)?`${v.a.dirname(this.file.path)}/${this.file.sizes.thumbnail.filename}`:null}get isSelected(){return!!this.selectedFiles.find((e=>e.id===this.file.id))}};oe([le.State,se("design:type",Object)],re.prototype,"selectedFiles",void 0),oe([Object(s["b"])(),se("design:type","function"===typeof(ie="undefined"!==typeof O.a&&O.a)?ie:Object)],re.prototype,"file",void 0),re=oe([s["a"]],re);var ce=re,pe=ce,de=(i("9632"),i("0016")),ue=Object(R["a"])(pe,ne,ae,!1,null,"25b537c6",null),fe=ue.exports;Q()(ue,"components",{QImg:I["a"],QIcon:de["a"]});var me,ge=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},be=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const he=Object(r["a"])("Content"),ve=Object(r["a"])("ContentType"),ye=Object(r["a"])("MediaLibrary");let Oe=class extends s["d"]{constructor(){super(...arguments),this.isSelectMultipleMode=!1,this.firstIndex=0,this.isRequesting=!1,this.pagesRequested=[],this.pagination={sortBy:"createdAt",descending:!0,page:1,rowsPerPage:20,rowsNumber:0}}activated(){this.search()}resetData(){this.reset("media_file"),this.pagesRequested.splice(0,this.pagesRequested.length),this.pagination={sortBy:"createdAt",descending:!0,page:1,rowsPerPage:20,rowsNumber:0}}search(){var e,t,i;this.resetData(),null===(e=this.infiniteScroll)||void 0===e||e.reset(),null===(t=this.infiniteScroll)||void 0===t||t.trigger(),null===(i=this.infiniteScroll)||void 0===i||i.resume()}onLoad(e,t){this.pagesRequested.includes(this.pagination.page)||this.fetch().then((()=>{t(this.pagination.page++>=Math.ceil(this.pagination.rowsNumber/this.pagination.rowsPerPage))})).catch((()=>{t(!0)}))}fetch(){return this.contentType?this.onRequest({pagination:this.pagination,filter:this.filter}):Promise.reject()}async onRequest(e){if(this.isRequesting||this.pagesRequested.includes(this.pagination.page))return;this.isRequesting=!0,this.pagesRequested.push(this.pagination.page);const{page:t,rowsPerPage:i,sortBy:n,descending:a}=e.pagination,o=0===i?"":i,s=(t-1)*i,l=this.filter;await this.fetchPage({type:this.contentType,startRow:s,fetchCount:o,filter:l,sortBy:n,descending:a,status:"publish",append:!0}),this.pagination.page=t,this.pagination.rowsPerPage=i,this.pagination.sortBy=n,this.pagination.descending=a,this.pagination.rowsNumber=this.filesCount(),this.isRequesting=!1}get contentType(){return this.findByName("media_file")}cancelMediaSelection(){this.firstIndex=0,this.cancelSelection()}async deleteMediaSelection(){await this.deleteSelection(),this.cancelSelection()}setBulkSelectFirstIndex(e){if(!this.multiple&&this.popup){const t=!!this.selectedFiles.find((t=>t.id===this.files[e].id));this.cancelSelection(),t||this.selectFile(this.files[e])}else this.isSelectMultipleMode?this.selectFile(this.files[e]):this.showDetails=!0;this.firstIndex=e}moveIndex(e){const t=this.firstIndex+e;t<this.files.length&&t>=0?this.firstIndex+=e:this.firstIndex=e>0?e-1:this.files.length+e}bulkMediaSelect(e){this.multiple&&this.bulkSelect({first:this.firstIndex,last:e})}get currentFile(){return this._currentFile=Object(u["cloneDeep"])(this.files[this.firstIndex]),this._currentFile}set currentFile(e){this._currentFile=e,this.saveEntity(this._currentFile)}get hasSelectedFiles(){return this.selectedFiles.length>0}get files(){return Object(u["get"])(this.contentEntities,"media_file",[])}filesCount(){return Object(u["get"])(this.contentEntitiesCount,"media_file",0)}get hasCallback(){return"function"===typeof this.callback}onSelectMultipleModeChange(e){e||this.cancelSelection()}get showDetails(){return this.isDetailsPaneOpen}set showDetails(e){this.setDetailsPaneOpen(e),e?this.isSelectMultipleMode=!0:this.selectedFiles.length<=1&&(this.isSelectMultipleMode=!1)}};ge([ye.State,be("design:type",Object)],Oe.prototype,"selectedFiles",void 0),ge([ye.State,be("design:type",Object)],Oe.prototype,"callback",void 0),ge([ye.State,be("design:type",Object)],Oe.prototype,"isDetailsPaneOpen",void 0),ge([ye.Action,be("design:type",Object)],Oe.prototype,"cancelSelection",void 0),ge([ye.Action,be("design:type",Object)],Oe.prototype,"deleteSelection",void 0),ge([ye.Action,be("design:type",Object)],Oe.prototype,"selectFile",void 0),ge([ye.Action,be("design:type",Object)],Oe.prototype,"bulkSelect",void 0),ge([ye.Action,be("design:type",Object)],Oe.prototype,"setDetailsPaneOpen",void 0),ge([he.State,be("design:type",Object)],Oe.prototype,"contentEntities",void 0),ge([he.State,be("design:type",Object)],Oe.prototype,"contentEntitiesCount",void 0),ge([he.Action,be("design:type",Object)],Oe.prototype,"fetchPage",void 0),ge([he.Action,be("design:type",Object)],Oe.prototype,"reset",void 0),ge([he.Action,be("design:type",Object)],Oe.prototype,"saveEntity",void 0),ge([ve.Getter,be("design:type",Object)],Oe.prototype,"findByName",void 0),ge([Object(s["b"])({type:Boolean,default:!1}),be("design:type",Boolean)],Oe.prototype,"multiple",void 0),ge([Object(s["b"])({type:Boolean,default:!1}),be("design:type",Boolean)],Oe.prototype,"popup",void 0),ge([Object(s["b"])({type:String,default:""}),be("design:type",String)],Oe.prototype,"filter",void 0),ge([Object(s["c"])("infiniteScroll"),be("design:type","function"===typeof(me="undefined"!==typeof d["a"]&&d["a"])?me:Object)],Oe.prototype,"infiniteScroll",void 0),ge([Object(s["e"])("filter"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Oe.prototype,"search",null),Oe=ge([Object(s["a"])({components:{MediaThumbnail:fe,MediaDetailsDialog:E,MediaDetailsPane:te}})],Oe);var je=Oe,we=je,xe=i("8f8e"),Ce=i("4983"),qe=i("0d59"),_e=Object(R["a"])(we,c,p,!1,null,null,null),Se=_e.exports;Q()(_e,"components",{QCheckbox:xe["a"],QBtn:$["a"],QScrollArea:Ce["a"],QInfiniteScroll:d["a"],QSpinner:qe["a"]});var Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"drop-area fit border border-dashed row content-stretch",class:{dragover:e.isDraggingOver,"no-style":e.noStyle},on:{dragover:function(e){e.preventDefault()},dragenter:function(t){return t.preventDefault(),e.onDragEnter(t)},dragleave:function(t){return t.preventDefault(),e.onDragLeave(t)},drop:function(t){return t.stopPropagation(),t.preventDefault(),e.onDrop(t)}}},[i("label",{staticClass:"full-width row",class:{"q-pa-md":!e.noStyle}},[0!==e.files.length||e.noStyle?e._e():i("span",{staticClass:"full-width text-center"},[e._v("Drop your files here or click to select")]),i("input",{ref:"fileInput",attrs:{type:"file",multiple:""},on:{change:e.onDrop}}),e._t("default",[0!==e.files.length?i(e.containerType,{tag:"component",staticClass:"flex wrap q-gutter-md",attrs:{list:e.files,group:"files"}},e._l(e.files,(function(t,n){return i("MediaUploadableFile",{key:t.file.name,staticClass:"p-2 m-1",attrs:{file:t,"default-thumbnail":e.defaultThumbnail},on:{remove:function(t){return e.removeFile(n)}}})})),1):e._e()])],2),!e.autoUpload&&this.files.length>0?i("q-btn",{staticClass:"q-ma-md",attrs:{color:"primary"},on:{click:e.uploadAll}},[e._v("Start upload")]):e._e()],1)},ke=[],Me=i("310e"),Pe=i.n(Me),De=i("bc3a"),$e=i.n(De),ze=i("116c"),Ie=i.n(ze),Fe=i("6f45"),Ae=i.n(Fe);class Be{static createImageDataURLFromFile(e){const t=new FileReader;return new Promise(((i,n)=>{t.onerror=()=>{n(new DOMException("Problem parsing input file."))},t.onload=async e=>{const t=document.createElement("img");t.src=e.target.result;const n=Ae.a.readFromBinaryFile(Be.base64ToArrayBuffer(e.target.result));n&&n.hasOwnProperty("Orientation")&&(t.src=await Be.rotateBase64Image(t.src,n.Orientation)),i(t)},t.readAsDataURL(e)}))}static resizeImage(e,t){const i=Be.calculateScaleDimensions(e.width,e.height,t.width,t.height),n=Be.downscaleImage(e,i.ratio),a=document.createElement("img");return a.src=n.toDataURL(t.mimeType||"image/WebP",t.quality?t.quality/100:.934),a}static getImageFileSize(e){const t=e.src.replace(/^data:([^;]+);base64,/gim,""),i=4*t.length/3,n=t.length%3?3-t.length%3:0,a=2+2*(i+n)/72;return i+n+a}static calculateScaleDimensions(e,t,i,n){const a=Math.min(i/e,n/t);return{ratio:a,width:e*a,height:t*a}}static downscaleImage(e,t){const i=document.createElement("canvas");i.width=e.width,i.height=e.height;const n=i.getContext("2d");if(n)return n.drawImage(e,0,0),Be.downscaleCanvas(i,n,t);throw new Error("Error while resizing image.")}static downscaleCanvas(e,t,i){if(!(i<1)||!(i>0))throw new Error("scale must be a positive number <1 ");const n=i*i,a=e.width,o=e.height,s=Math.floor(a*i),l=Math.floor(o*i);let r=0,c=0,p=0,d=0,u=0,f=0,m=0,g=0,b=0,h=0,v=0,y=0,O=0,j=0,w=0,x=!1,C=!1;const q=t.getImageData(0,0,a,o).data,_=new Float32Array(3*s*l);let S=0,R=0,k=0;for(c=0;c<o;c++)for(u=c*i,b=Math.floor(u),f=3*b*s,C=b!==Math.floor(u+i),C&&(j=b+1-u,w=u+i-b-1),r=0;r<a;r++,p+=4)d=r*i,g=Math.floor(d),m=f+3*g,x=g!==Math.floor(d+i),x&&(y=g+1-d,O=d+i-g-1),S=q[p],R=q[p+1],k=q[p+2],x||C?x&&!C?(h=y*i,_[m]+=S*h,_[m+1]+=R*h,_[m+2]+=k*h,v=O*i,_[m+3]+=S*v,_[m+4]+=R*v,_[m+5]+=k*v):C&&!x?(h=j*i,_[m]+=S*h,_[m+1]+=R*h,_[m+2]+=k*h,v=w*i,_[m+3*s]+=S*v,_[m+3*s+1]+=R*v,_[m+3*s+2]+=k*v):(h=y*j,_[m]+=S*h,_[m+1]+=R*h,_[m+2]+=k*h,v=O*j,_[m+3]+=S*v,_[m+4]+=R*v,_[m+5]+=k*v,v=y*w,_[m+3*s]+=S*v,_[m+3*s+1]+=R*v,_[m+3*s+2]+=k*v,v=O*w,_[m+3*s+3]+=S*v,_[m+3*s+4]+=R*v,_[m+3*s+5]+=k*v):(_[m]+=S*n,_[m+1]+=R*n,_[m+2]+=k*n);const M=document.createElement("canvas");M.width=s,M.height=l;const P=M.getContext("2d");if(!P)throw new Error("Error downscaling image.");const D=P.getImageData(0,0,s,l),$=D.data;let z=0;for(p=0,m=0;z<s*l;p+=3,m+=4,z++)$[m]=Math.ceil(_[p]),$[m+1]=Math.ceil(_[p+1]),$[m+2]=Math.ceil(_[p+2]),$[m+3]=255;return P.putImageData(D,0,0),M}static base64ToArrayBuffer(e){e=e.replace(/^data:([^;]+);base64,/gim,"");const t=atob(e),i=t.length,n=new Uint8Array(i);for(let a=0;a<i;a++)n[a]=t.charCodeAt(a);return n.buffer}static rotateBase64Image(e,t){if(-1===[3,6,8].indexOf(t))return new Promise((t=>{t(e)}));const i=document.createElement("canvas"),n=i.getContext("2d");return new Promise((a=>{const o=new Image;o.onload=function(){6===t||8===t?(i.height=o.width,i.width=o.height):3===t&&(i.width=o.width,i.height=o.height),6===t?(n.rotate(90*Math.PI/180),n.translate(0,-i.width)):8===t?(n.rotate(-90*Math.PI/180),n.translate(-i.height,0)):3===t&&n.rotate(Math.PI),n.drawImage(o,0,0),a(i.toDataURL("image/jpeg",100))},o.src=e}))}}var Qe,Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{staticClass:"uploadable-file",attrs:{draggable:"true"},on:{click:function(e){e.preventDefault()}}},[i("div",{staticClass:"relative-position"},[e.imageSource?i("q-img",{staticClass:"square",attrs:{src:e.imageSource,contain:""}}):i("q-icon",{staticClass:"square",staticStyle:{"font-size":"7rem"},attrs:{name:"insert_drive_file",color:"primary"}}),i("q-inner-loading",{attrs:{size:"4rem",showing:1===e.file.uploadProgress}},[i("q-spinner-grid",{attrs:{color:"primary"}})],1)],1),i("q-card-actions",[i("p",{staticClass:"full-width text-center text-caption text-primary q-mb-sm"},[e._v(e._s(e.file.file.name))]),i("div",{staticClass:"full-width flex row justify-between q-gutter-x-md"},[i("div",{staticClass:"flex items-center col-grow q-ml-none"},[i("q-linear-progress",{attrs:{value:e.file.uploadProgress}})],1),i("q-btn",{staticClass:"col-auto",attrs:{dense:"",flat:"",color:"negative",icon:"close"},on:{click:function(t){return t.preventDefault(),e.$emit("remove")}}})],1),"file_too_big"===e.file.error?i("div",{staticClass:"column text-negative"},[i("span",[e._v("File is too big!")]),e.file.image?i("span",[e._v("Consider resizing it before upload.")]):e._e()]):e._e()])],1)},Ee=[],Le=i("0b2b"),Ve=i.n(Le),Ue=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Ne=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let He=class extends s["d"]{get imageSource(){return this.file.thumbnail?this.file.thumbnail.src:null}};Ue([Object(s["b"])(),Ne("design:type","function"===typeof(Qe="undefined"!==typeof Ve.a&&Ve.a)?Qe:Object)],He.prototype,"file",void 0),Ue([Object(s["b"])(),Ne("design:type",String)],He.prototype,"defaultThumbnail",void 0),He=Ue([s["a"]],He);var Ke=He,Ge=Ke,Ye=(i("8bc4"),i("74f7")),Je=i("981c"),We=i("6b1d"),Xe=Object(R["a"])(Ge,Te,Ee,!1,null,null,null),Ze=Xe.exports;Q()(Xe,"components",{QCard:M["a"],QImg:I["a"],QIcon:de["a"],QInnerLoading:Ye["a"],QSpinnerGrid:Je["a"],QCardActions:A["a"],QLinearProgress:We["a"],QBtn:$["a"]});var et,tt,it,nt=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},at=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ot=Object(r["a"])("MediaLibrary");let st=et=class extends s["d"]{constructor(){super(...arguments),this.dragCounter=0,this.isDraggingOver=!1,this.files=[]}created(){this.fetchOptions()}get containerType(){return this.draggable?"draggable":"div"}onDragEnter(){et.supportsDragAndDrop&&(this.dragCounter++,this.isDraggingOver=!0)}onDragLeave(){et.supportsDragAndDrop&&(this.dragCounter--,this.dragCounter<=0&&(this.dragCounter=0,this.isDraggingOver=!1))}async onDrop(e){if(this.onDragLeave(),e.target&&Object(u["size"])(e.target.files)>0||e.dataTransfer&&Object(u["size"])(e.dataTransfer.files)>0){const t=e.target.files||e.dataTransfer.files||[],i=[];for(const n of t)if(!this.files.find((e=>e.file.name===n.name)))try{i.push(await this.parseFile(n))}catch(e){i.push({file:n,image:document.createElement("img")})}this.files.push(...i),this.autoUpload&&this.uploadAll()}this.fileInput.value=""}uploadAll(){this.uploadUrl&&Object(u["forEachRight"])(Object(u["reverse"])(this.files),(async e=>{if(e.image&&this.resizeOptions&&this.resizeOptions.enabled&&(this.resizeOptions.width<e.image.width||this.resizeOptions.height<e.image.height)){if(e.image=Be.resizeImage(e.image,this.resizeOptions),Be.getImageFileSize(e.image)>=this.maxContentLength)return e.error="file_too_big",!1}else if(e.file.size>=this.maxContentLength)return e.error="file_too_big",!1;if(this.sequential){const t=await this.asyncUploadFile(e);t&&this.onFileUploaded(e,t.data)}else this.asyncUploadFile(e).then((t=>{t&&this.onFileUploaded(e,t.data)}))}))}asyncUploadFile(e){const t=new FormData;if(e.image){const i=new File([et.convertDataUriToBlob(e.image.src)],e.file.name,{type:e.file.type});t.append("file",i)}else t.append("file",e.file);return $e.a.post(this.uploadUrl,t,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:this.maxContentLength,onUploadProgress:t=>{s["d"].set(this.files[this.files.indexOf(e)],"uploadProgress",t.loaded/t.total)}})}onFileUploaded(e,t){this.files.splice(this.files.indexOf(e),1),this.$emit("file-uploaded",t),0===this.files.length&&this.$emit("upload-finished",t)}async parseFile(e){if("image"===e.type.substr(0,5)){const t=await Be.createImageDataURLFromFile(e),i=Be.resizeImage(t,{width:250,height:250,quality:60});return{file:e,image:t,thumbnail:i}}return{file:e}}removeFile(e){this.files.splice(e,1)}get maxContentLength(){return this.options.hasOwnProperty("max_upload_size")?this.options["max_upload_size"]:0}static convertDataUriToBlob(e){let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const i=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:i})}static get supportsDragAndDrop(){const e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!("ontouchstart"in window||navigator.msMaxTouchPoints)}};nt([ot.State,at("design:type",Object)],st.prototype,"options",void 0),nt([ot.Action,at("design:type",Object)],st.prototype,"fetchOptions",void 0),nt([Object(s["c"])("fileInput"),at("design:type","function"===typeof(tt="undefined"!==typeof HTMLInputElement&&HTMLInputElement)?tt:Object)],st.prototype,"fileInput",void 0),nt([Object(s["b"])(),at("design:type","function"===typeof(it="undefined"!==typeof Ie.a&&Ie.a)?it:Object)],st.prototype,"resizeOptions",void 0),nt([Object(s["b"])({type:Boolean}),at("design:type",Boolean)],st.prototype,"sequential",void 0),nt([Object(s["b"])({type:Boolean}),at("design:type",Boolean)],st.prototype,"draggable",void 0),nt([Object(s["b"])({type:Boolean}),at("design:type",Boolean)],st.prototype,"autoUpload",void 0),nt([Object(s["b"])(),at("design:type",String)],st.prototype,"uploadUrl",void 0),nt([Object(s["b"])({type:Boolean}),at("design:type",Boolean)],st.prototype,"noStyle",void 0),nt([Object(s["b"])(),at("design:type",String)],st.prototype,"defaultThumbnail",void 0),st=et=nt([Object(s["a"])({components:{MediaUploadableFile:Ze,draggable:Pe.a}})],st);var lt=st,rt=lt,ct=(i("d652"),Object(R["a"])(rt,Re,ke,!1,null,null,null)),pt=ct.exports;Q()(ct,"components",{QBtn:$["a"]});var dt=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ut=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ft=Object(r["a"])("Content"),mt=Object(r["a"])("MediaLibrary");let gt=class extends s["d"]{constructor(){super(...arguments),this.tab="explorer",this.filter="",this.resizeOptions={enabled:!1,width:800,height:800,quality:75,mimeType:"image/jpeg"},this.mimeTypes=[{value:"image/jpeg",label:"JPEG"},{value:"image/png",label:"PNG"}]}get uploadUrl(){return l["a"].generate("numbernine_admin_media_files_upload")}onFileUploaded(e){this.addEntity(e)}get hasSelectedFiles(){return this.selectedFiles.length>0}get hasCallback(){return"function"===typeof this.callback}};dt([mt.State,ut("design:type",Object)],gt.prototype,"selectedFiles",void 0),dt([mt.State,ut("design:type",Object)],gt.prototype,"callback",void 0),dt([mt.Action,ut("design:type",Object)],gt.prototype,"close",void 0),dt([mt.Action,ut("design:type",Object)],gt.prototype,"submit",void 0),dt([mt.Action,ut("design:type",Object)],gt.prototype,"show",void 0),dt([ft.Action,ut("design:type",Object)],gt.prototype,"fetchPage",void 0),dt([ft.Action,ut("design:type",Object)],gt.prototype,"addEntity",void 0),dt([Object(s["b"])({type:Boolean,default:!1}),ut("design:type",Boolean)],gt.prototype,"multiple",void 0),dt([Object(s["b"])({type:Boolean,default:!1}),ut("design:type",Boolean)],gt.prototype,"popup",void 0),gt=dt([Object(s["a"])({components:{MediaUploader:pt,MediaExplorer:Se}})],gt);var bt=gt,ht=bt,vt=(i("6da3"),i("2c91")),yt=i("429b"),Ot=i("7460"),jt=i("adad"),wt=i("823b"),xt=i("58a81"),Ct=i("c1d0"),qt=Object(R["a"])(ht,a,o,!1,null,"4808d023",null);t["a"]=qt.exports;Q()(qt,"components",{QCard:M["a"],QCardSection:P["a"],QSpace:vt["a"],QBtn:$["a"],QSeparator:z["a"],QTabs:yt["a"],QTab:Ot["a"],QInput:X["a"],QIcon:de["a"],QTabPanels:jt["a"],QTabPanel:wt["a"],QCheckbox:xe["a"],QSelect:Z["a"],QBadge:xt["a"],QSlider:Ct["a"],QCardActions:A["a"]})},b18e:function(e,t,i){},b6db:function(e,t){},ba9a:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.file?i("q-img",{staticClass:"full-width q-mb-sm",attrs:{src:e.thumbnail,contain:""}}):e._e(),i("q-btn",{staticClass:"full-width",attrs:{outline:"",color:e.color,label:"Select media"},on:{click:function(t){e.showMediaLibrary=!0}}})],1)},a=[],o=i("3ae7"),s=i("60a3"),l=i("df7c"),r=i.n(l),c=i("4bb5"),p=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=Object(c["a"])("Content"),f=Object(c["a"])("MediaLibrary");let m=class extends s["d"]{constructor(){super(...arguments),this.file=null}async created(){this.value&&(await this.fetchById({type:"media_file",id:this.value}),this.file=this.findById(this.value),this.$emit("input-computed",{parameter:"image",value:this.file}))}get thumbnail(){return this.file?`${r.a.dirname(this.file.path)}/${this.file.sizes.preview.filename}`:""}get showMediaLibrary(){return this.isShown}set showMediaLibrary(e){this.show({value:e,callback:e?this.selectFile.bind(this):null,options:{mode:o["a"].MediaSelect}})}selectFile(e){e.length>0&&(this.file=e[0],this.$emit("input",{parameter:"id",value:this.file.id}),this.$emit("input-computed",{parameter:"image",value:this.file}))}};p([f.State,d("design:type",Object)],m.prototype,"isDetailsPaneOpen",void 0),p([f.State,d("design:type",Object)],m.prototype,"isShown",void 0),p([f.Action,d("design:type",Object)],m.prototype,"show",void 0),p([u.Action,d("design:type",Object)],m.prototype,"fetchById",void 0),p([u.Getter,d("design:type",Object)],m.prototype,"findById",void 0),p([Object(s["b"])(),d("design:type",Number)],m.prototype,"value",void 0),p([Object(s["b"])(),d("design:type",String)],m.prototype,"color",void 0),m=p([s["a"]],m);var g=m,b=g,h=i("2877"),v=i("068f"),y=i("9c40"),O=i("eebe"),j=i.n(O),w=Object(h["a"])(b,n,a,!1,null,null,null);t["a"]=w.exports;j()(w,"components",{QImg:v["a"],QBtn:y["a"]})},bd7a:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active?i("Editor",{attrs:{init:e.init,value:e.value},on:{input:function(t){return e.$emit("input",t)}}}):e._e()},a=[],o=i("e562"),s=i.n(o),l=(i("ec27"),i("0d68"),i("8388"),i("0902"),i("7193"),i("2fec"),i("84ec"),i("4237"),i("4ea8"),i("8863"),i("c3d7"),i("840a"),i("0a9d"),i("d2dc"),i("62e5"),i("0efa"),i("64d8"),i("3154"),i("4bd0"),i("3aea"),i("07d1"),i("bc54"),i("0aa0"),i("9434"),i("7905")),r=i("440d");s.a.PluginManager.add("medialibrary",(function(e){return e.addCommand("n9ShowMediaLibrary",(()=>{l["a"].emit("TinyEditor:showMediaLibrary",e)})),e.addCommand("n9InsertFiles",((t,i)=>{if(i.files.length>0)for(const n of i.files){let t="";if("image"===n.mimeType.substr(0,5)){const e="original"===i.settings.size?n.path:`${Object(r["a"])(n.path)}/${n.sizes[i.settings.size].filename}`;t=`<img src="${e}" alt="${n.title}">`}else"video"===n.mimeType.substr(0,5)&&(t=`\n                        <video controls>\n                            <source src="${n.path}" type="${n.mimeType}">\n                            <p>Your browser is too old to read HTML5 videos. Please upgrade.</p>\n                        </video>\n                    `);e.selection.setContent(t.trim(),{format:"align"+i.settings.alignment}),e.formatter.apply("align"+i.settings.alignment)}})),e.ui.registry.addButton("medialibrary",{text:"Add media",onAction:function(){e.execCommand("n9ShowMediaLibrary")}}),{}}));var c=i("35d6"),p=i("3ae7"),d=i("60a3"),u=i("4bb5"),f=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},m=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const g=Object(u["a"])("MediaLibrary");let b=class extends d["d"]{constructor(){super(...arguments),this.active=!1,this.init={theme:"silver",skin:!1,content_css:!1,branding:!1,height:500,menubar:!1,relative_urls:!1,plugins:["advlist autolink lists link image imagetools charmap print preview anchor","searchreplace visualblocks code","insertdatetime media table paste code help wordcount","medialibrary",this.autogrow?"autoresize":""],toolbar:"medialibrary | undo redo copy paste | formatselect | bold italic backcolor |             alignleft aligncenter alignright alignjustify |             bullist numlist outdent indent | charmap anchor | searchreplace |             removeformat | code | wordcount | help",formats:{alignleft:{selector:"img",styles:{float:"left",margin:"10px 10px 10px 0"}},alignright:{selector:"img",styles:{float:"right",margin:"10px 0 10px 10px"}},aligncenter:{selector:"img",styles:{display:"block",margin:"10px auto"}}}}}created(){l["a"].on("TinyEditor:showMediaLibrary",(e=>{this.show({value:!0,callback:t=>e.execCommand("n9InsertFiles",!1,{files:t,settings:this.mediaSettings}),options:{mode:p["a"].EditorInsert}})}))}activated(){this.active=!0}deactivated(){this.active=!1}};f([g.State,m("design:type",Object)],b.prototype,"mediaSettings",void 0),f([g.Action,m("design:type",Object)],b.prototype,"show",void 0),f([Object(d["b"])(),m("design:type",String)],b.prototype,"value",void 0),f([Object(d["b"])({type:Boolean,default:!1}),m("design:type",Boolean)],b.prototype,"autogrow",void 0),b=f([Object(d["a"])({components:{Editor:c["a"]}})],b);var h=b,v=h,y=i("2877"),O=Object(y["a"])(v,n,a,!1,null,null,null);t["a"]=O.exports},c061:function(e,t,i){"use strict";var n=i("4b19"),a=i.n(n);a.a},c5f3:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{persistent:"","full-width":""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showMediaLibrary=!1}},model:{value:e.showMediaLibrary,callback:function(t){e.showMediaLibrary=t},expression:"showMediaLibrary"}},[i("MediaLibrary",{attrs:{popup:""},on:{"files-selected":e.selectFiles}})],1)},a=[],o=i("60a3"),s=i("4bb5"),l=i("a72a"),r=function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const p=Object(s["a"])("MediaLibrary");let d=class extends o["d"]{get showMediaLibrary(){return this.isShown}set showMediaLibrary(e){this.show({value:e,callback:e?this.selectFiles.bind(this):null})}selectFiles(e){this.show=!1,this.$emit("files-selected",e)}};r([p.State,c("design:type",Object)],d.prototype,"isShown",void 0),r([p.Action,c("design:type",Object)],d.prototype,"show",void 0),d=r([Object(o["a"])({components:{MediaLibrary:l["a"]}})],d);var u=d,f=u,m=i("2877"),g=i("24e8"),b=i("eebe"),h=i.n(b),v=Object(m["a"])(f,n,a,!1,null,null,null);t["a"]=v.exports;h()(v,"components",{QDialog:g["a"]})},cde7:function(e,t,i){},d373:function(e,t,i){},d652:function(e,t,i){"use strict";var n=i("4794"),a=i.n(n);a.a},e2a9:function(e,t,i){},e97e:function(e,t,i){"use strict";var n=i("6715"),a=i.n(n);a.a}}]);