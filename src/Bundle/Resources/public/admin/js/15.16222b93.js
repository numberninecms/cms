(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"65be":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.component?n("q-page",[n("div",{staticClass:"q-ma-md"},[n(e.component.component,e._g(e._b({key:e.component.id?e.component.id:e.component.component,tag:"component",staticStyle:{"padding-top":"42px"}},"component",Object.assign({},e.component.props),!1),Object.assign({},e.component.events))),n("q-btn-group",{staticClass:"q-mt-md"},[n("q-btn",{attrs:{label:"Save",color:"primary"},on:{click:function(t){return e.saveSettings()}}}),n("q-btn",{attrs:{label:"Restore"},on:{click:function(t){return e.restoreSettings()}}})],1)],1),n("q-page-sticky",{attrs:{expand:"",position:"top"}},[n("q-toolbar",{staticClass:"bg-primary text-white"},[n("q-toolbar-title",[e._v("\n                "+e._s(e.component.title)+"\n            ")])],1)],1)],1):e._e()},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column q-gutter-y-md"},[n("q-input",{attrs:{filled:"",label:"Site title",clearable:""},model:{value:e.siteTitle,callback:function(t){e.siteTitle=t},expression:"siteTitle"}}),n("q-input",{attrs:{filled:"",label:"Tagline",clearable:""},model:{value:e.siteDescription,callback:function(t){e.siteDescription=t},expression:"siteDescription"}}),n("q-toggle",{attrs:{label:"Use posts archive as homepage"},model:{value:e.blogHomepage,callback:function(t){e.blogHomepage=t},expression:"blogHomepage"}}),e.blogHomepage?e._e():n("q-select",{attrs:{label:"Homepage",filled:"",options:e.pages,"option-value":"id","option-label":"title","map-options":"","emit-value":""},model:{value:e.pageForFront,callback:function(t){e.pageForFront=t},expression:"pageForFront"}}),e.blogHomepage?e._e():n("q-select",{attrs:{label:"Posts archive page",filled:"",options:e.pages,"option-value":"id","option-label":"title","map-options":"","emit-value":""},model:{value:e.pageForPosts,callback:function(t){e.pageForPosts=t},expression:"pageForPosts"}}),n("q-select",{attrs:{label:"My account page",filled:"",options:e.pages,"option-value":"id","option-label":"title","map-options":"","emit-value":""},model:{value:e.pageForMyAccount,callback:function(t){e.pageForMyAccount=t},expression:"pageForMyAccount"}}),n("q-select",{attrs:{label:"Privacy page",filled:"",options:e.pages,"option-value":"id","option-label":"title","map-options":"","emit-value":""},model:{value:e.pageForPrivacy,callback:function(t){e.pageForPrivacy=t},expression:"pageForPrivacy"}})],1)},i=[],r=n("1b40"),l=n("4bb5"),c=function(e,t,n,o){var a,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const g=Object(l["a"])("Setting");class u extends r["d"]{getSettingAs(e,t="string"){const n=this.getSettingValue(e);if(null!==n&&void 0!==n)switch(t){case"number":return parseInt(n);default:return n}return null}async setSettingAs(e,t){await this.setSetting({name:e,value:t})}}c([g.Getter,p("design:type",Object)],u.prototype,"getSettingValue",void 0),c([g.Action,p("design:type",Object)],u.prototype,"setSetting",void 0),c([g.Action,p("design:type",Object)],u.prototype,"saveSettings",void 0);var d,m=n("7905"),f=function(e,t,n,o){var a,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},y=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const b=Object(l["a"])("Content");let v=class extends u{constructor(){super(...arguments),this.blogHomepage=!0}created(){m["a"].on("Settings:loaded",(()=>{null!==this.pageForFront&&(this.blogHomepage=!1)})),this.fetchAll({type:"page",status:"publish",orderBy:"title",order:"asc"})}onBlogHomepageChange(){this.blogHomepage&&(this.pageForFront=null,this.pageForPosts=null,this.saveSettings())}get pages(){return this.contentEntities.hasOwnProperty("page")?this.contentEntities["page"]:[]}get siteTitle(){return this.getSettingAs("site_title","string")}set siteTitle(e){this.setSettingAs("site_title",e)}get siteDescription(){return this.getSettingAs("site_description","string")}set siteDescription(e){this.setSettingAs("site_description",e)}get pageForFront(){return this.getSettingAs("page_for_front","number")}set pageForFront(e){this.setSettingAs("page_for_front",e)}get pageForPosts(){return this.getSettingAs("page_for_posts","number")}set pageForPosts(e){this.setSettingAs("page_for_posts",e)}get pageForMyAccount(){return this.getSettingAs("page_for_my_account","number")}set pageForMyAccount(e){this.setSettingAs("page_for_my_account",e)}get pageForPrivacy(){return this.getSettingAs("page_for_privacy","number")}set pageForPrivacy(e){this.setSettingAs("page_for_privacy",e)}};f([b.State,y("design:type","function"===typeof(d=!1)?d:Object)],v.prototype,"contentEntities",void 0),f([b.Action,y("design:type",Object)],v.prototype,"fetchAll",void 0),f([Object(r["e"])("blogHomepage"),y("design:type",Function),y("design:paramtypes",[]),y("design:returntype",void 0)],v.prototype,"onBlogHomepageChange",null),v=f([r["a"]],v);var h=v,S=h,_=n("2877"),j=n("27f9"),O=n("9564"),A=n("ddd8"),q=n("eebe"),k=n.n(q),F=Object(_["a"])(S,s,i,!1,null,null,null),P=F.exports;k()(F,"components",{QInput:j["a"],QToggle:O["a"],QSelect:A["a"]});var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.permalinks?n("div",[n("div",{staticClass:"column q-gutter-y-md"},[n("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[n("q-icon",{attrs:{name:"mdi-information-outline",color:"primary"}})]},proxy:!0}],null,!1,2775659918)},[n("p",[e._v("Available placeholders : "),n("q-badge",{staticClass:"q-mr-sm",attrs:{color:"secondary"}},[e._v("{year}")]),n("q-badge",{staticClass:"q-mr-sm",attrs:{color:"secondary"}},[e._v("{month}")]),n("q-badge",{staticClass:"q-mr-sm",attrs:{color:"secondary"}},[e._v("{day}")]),n("q-badge",{attrs:{color:"secondary"}},[e._v("{slug}")])],1),n("p",{staticClass:"q-ma-none q-pa-none"},[e._v("Example: "),n("q-badge",{attrs:{color:"primary"}},[e._v("/{year}/{month}/{day}/{slug}")]),e._v(" will give an url like "),n("q-badge",{attrs:{color:"primary"}},[e._v("/2020/08/03/title-of-my-post")])],1)]),e._l(e.permalinks,(function(t){return n("q-input",{key:t.type.name,attrs:{filled:"",debounce:300,label:e.contentTypeLabel(t.type),placeholder:t.permalink,value:t.permalink},on:{input:function(n){return e.updatePermalink(t,n)}}})}))],2)]):e._e()},x=[],C=n("2ef0"),w=function(e,t,n,o){var a,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},T=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Q=Object(l["a"])("ContentType");let E=class extends u{get permalinks(){if(!this.contentTypes)return[];const e=this.getSettingValue("permalinks");return this.contentTypes.filter((e=>e.public)).map((t=>({type:t,permalink:e&&e.hasOwnProperty(t.name)?e[t.name]:t.permalink})))}contentTypeLabel(e){return Object(C["upperFirst"])(e.labels.singularName)}updatePermalink(e,t){const n=Object(C["cloneDeep"])(this.getSettingValue("permalinks")||{});e.type.permalink===t||0===t.trim().length?delete n[e.type.name]:n[e.type.name]=t.trim(),this.setSettingAs("permalinks",n),this.saveSettings()}};w([Q.State,T("design:type",Array)],E.prototype,"contentTypes",void 0),E=w([r["a"]],E);var H=E,D=H,B=n("54e1"),M=n("0016"),N=n("58a81"),G=Object(_["a"])(D,R,x,!1,null,null,null),I=G.exports;k()(G,"components",{QBanner:B["a"],QIcon:M["a"],QBadge:N["a"],QInput:j["a"]});var V,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column q-gutter-y-md"},[n("q-input",{attrs:{filled:"",label:"Sender name",clearable:""},model:{value:e.senderName,callback:function(t){e.senderName=t},expression:"senderName"}}),n("q-input",{attrs:{type:"email",filled:"",label:"Sender email address",clearable:""},model:{value:e.senderAddress,callback:function(t){e.senderAddress=t},expression:"senderAddress"}})],1)},J=[],L=function(e,t,n,o){var a,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},U=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const z=Object(l["a"])("Content");let K=class extends u{get senderName(){return this.getSettingAs("mailer_sender_name","string")}set senderName(e){this.setSettingAs("mailer_sender_name",e)}get senderAddress(){return this.getSettingAs("mailer_sender_address","string")}set senderAddress(e){this.setSettingAs("mailer_sender_address",e)}};L([z.State,U("design:type","function"===typeof(V=!1)?V:Object)],K.prototype,"contentEntities",void 0),L([z.Action,U("design:type",Object)],K.prototype,"fetchAll",void 0),K=L([r["a"]],K);var W=K,X=W,Y=Object(_["a"])(X,$,J,!1,null,null,null),Z=Y.exports;k()(Y,"components",{QInput:j["a"]});var ee=function(e,t,n,o){var a,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},te=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ne=Object(l["a"])("Setting");let oe=class extends r["d"]{constructor(){super(...arguments),this.settingsComponents=[{id:"general",title:"General settings",component:"SettingsGeneral"},{id:"permalinks",title:"Permalinks",component:"SettingsPermalinks"},{id:"emails",title:"Emails",component:"SettingsEmails"}]}async created(){m["a"].emit("Settings:settingsComponents",{settingsComponents:this.settingsComponents}),await this.querySettings(),m["a"].emit("Settings:loaded")}get component(){return this.settingsComponents.find((e=>e.id===this.page))}};ee([ne.Action,te("design:type",Object)],oe.prototype,"querySettings",void 0),ee([ne.Action,te("design:type",Object)],oe.prototype,"saveSettings",void 0),ee([ne.Action,te("design:type",Object)],oe.prototype,"restoreSettings",void 0),ee([Object(r["b"])(),te("design:type",String)],oe.prototype,"page",void 0),oe=ee([Object(r["a"])({components:{SettingsGeneral:P,SettingsPermalinks:I,SettingsEmails:Z}})],oe);var ae=oe,se=ae,ie=n("9989"),re=n("e7a9"),le=n("9c40"),ce=n("de5e"),pe=n("65c6"),ge=n("6ac5"),ue=Object(_["a"])(se,o,a,!1,null,null,null);t["default"]=ue.exports;k()(ue,"components",{QPage:ie["a"],QBtnGroup:re["a"],QBtn:le["a"],QPageSticky:ce["a"],QToolbar:pe["a"],QToolbarTitle:ge["a"]})}}]);