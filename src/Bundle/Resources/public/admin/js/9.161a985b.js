(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"32f7":function(e,t){},c587:function(e,t,i){"use strict";i.r(t);var n,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[i("div",{staticStyle:{"padding-top":"42px"}},[e.model?i("div",{staticClass:"row q-pa-md q-gutter-x-md"},[i("div",{staticClass:"col-12 col-md-9"},[i("q-card",{attrs:{flat:""}},[i("q-tabs",{staticClass:"text-primary shadow-2",attrs:{align:"left",dense:"","inline-label":"","active-color":"primary","indicator-color":"primary"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.visibleTabs,(function(t){return i("q-tab",{key:t.name,attrs:{name:t.name,icon:t.icon,label:e.$q.screen.gt.xs?t.label:""}})})),1),i("q-separator"),i("q-tab-panels",{attrs:{"keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t){return i("q-tab-panel",{key:t.name,attrs:{name:t.name}},[i(t.panel.component,e._g(e._b({tag:"component",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"component",t.panel.props,!1),Object.assign({},{save:e.save,reload:e.reload},t.panel.events)))],1)})),1)],1)],1),i("div",{staticClass:"col q-gutter-y-md"},e._l(e.visibleSidebarComponents,(function(t){return i(t.component,e._g(e._b({key:t.id?t.id:t.component,tag:"component",attrs:{"delete-action":e.deleteAction},on:{"update:deleteAction":function(t){e.deleteAction=t},"update:delete-action":function(t){e.deleteAction=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"component",Object.assign({},{originalEntity:e.originalEntity,saveLoading:e.saveLoading},t.props),!1),Object.assign({},{save:e.save,reload:e.reload},t.events)))})),1)]):e._e()]),i("q-dialog",{attrs:{persistent:""},model:{value:e.deleteAction,callback:function(t){e.deleteAction=t},expression:"deleteAction"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"delete_forever",color:"negative","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Do you want to delete this "+e._s(e.typeName)+"?")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){e.deleteAction=!1}}}),i("q-btn",{attrs:{flat:"",label:"Yes",color:"primary",autofocus:"",loading:e.deleteLoading},on:{click:e.confirmDelete,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmDelete(t)}}})],1)],1)],1),i("MediaLibraryDialog"),i("q-page-sticky",{staticStyle:{"z-index":"10"},attrs:{expand:"",position:"top"}},[i("q-toolbar",{staticClass:"bg-primary text-white"},[e.id&&e.model?i("q-toolbar-title",[e._v(e._s(e.model.title))]):i("q-toolbar-title",[e._v("Loading...")]),e.model?i("q-btn",{attrs:{flat:"",dense:"",color:"white",icon:"mdi-eye-outline",href:e.model.publicUrl,type:"a",target:"_blank"}},[i("q-tooltip",[e._v("View")])],1):e._e()],1)],1)],1)},s=[],a=i("84f8"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column q-gutter-y-md"},[i("q-input",{attrs:{filled:"",label:"Title"},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}}),i("div",{staticClass:"row q-gutter-x-md items-center"},[i("div",[i("a",{attrs:{href:"#"}},[e._v(e._s(e.rootAbsoluteUrl)+e._s(e.pagePermalink))]),i("q-popup-edit",{attrs:{title:"Permalink",buttons:"","label-set":"OK"},on:{save:e.validateSlug},model:{value:e.value.slug,callback:function(t){e.$set(e.value,"slug",t)},expression:"value.slug"}},[i("q-input",{attrs:{dense:"",autofocus:"",filled:"","stack-label":"",clearable:"",placeholder:e.slugifiedTitle},model:{value:e.value.slug,callback:function(t){e.$set(e.value,"slug",t)},expression:"value.slug"}})],1)],1)]),i("p",{staticClass:"text-bold text-body1 q-mb-none"},[e._v("Content")]),i("TinyEditor",{model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}})],1)},r=[],c=i("1b40"),d=i("583e"),u=i.n(d),p=i("bd7a"),f=i("4bb5"),m=i("ff94"),v=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},y=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const b=Object(f["a"])("Setting");let h=class extends c["d"]{created(){var e;this.querySettings(),this.value.excerpt=null!==(e=this.value.excerpt)&&void 0!==e?e:""}validateSlug(e){e||(this.value.slug=this.slugifiedTitle)}get rootAbsoluteUrl(){return this.getSettingValue("root_absolute_url")}get pagePermalink(){var e;return this.getSettingValue("permalinks")?null===(e=this.getSettingValue("permalinks")[this.value.type])||void 0===e?void 0:e.replace(/^\//,"").replace("{slug}",this.value.slug):void 0}get slugifiedTitle(){return m["a"](this.value.title)}};v([b.State,y("design:type",Object)],h.prototype,"settings",void 0),v([b.Action,y("design:type",Object)],h.prototype,"querySettings",void 0),v([b.Getter,y("design:type",Object)],h.prototype,"getSettingValue",void 0),v([Object(c["b"])(),y("design:type","function"===typeof(n="undefined"!==typeof u.a&&u.a)?n:Object)],h.prototype,"value",void 0),h=v([Object(c["a"])({components:{TinyEditor:p["a"]}})],h);var g=h,C=g,x=i("2877"),O=i("27f9"),j=i("42a1"),R=i("eebe"),q=i.n(R),T=Object(x["a"])(C,l,r,!1,null,null,null),F=T.exports;q()(T,"components",{QInput:O["a"],QPopupEdit:j["a"]});var S,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.filteredCustomFields,(function(t){return i("div",{key:t.id,staticClass:"row q-col-gutter-md q-gutter-y-md items-start"},[i("q-select",{staticClass:"col-12 col-sm-6",attrs:{filled:"","use-input":"","fill-input":"","input-debounce":"0","hide-selected":"",label:"Name",options:e.existingCustomFieldsOptions,value:t.key},on:{filter:e.customFieldAutocomplete,"input-value":function(i){return e.value.setCustomFieldKey(t,i)}}}),i("q-input",{staticClass:"col-12 col-sm-6",attrs:{value:t.value,label:"Value",filled:"",autogrow:""},on:{input:function(i){return e.value.setCustomFieldValue(t,i)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"mdi-delete"},on:{click:function(i){return e.value.deleteCustomField(t)}}})]},proxy:!0}],null,!0)})],1)})),0)},_=[],k=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},w=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const P=Object(f["a"])("Content");let Q=class extends c["d"]{constructor(){super(...arguments),this.existingCustomFieldsOptions=null}created(){var e;this.fetchExistingCustomFields().then((()=>this.existingCustomFieldsOptions=Object.values(this.existingCustomFields))),this.value.customFields=Object.assign({},null!==(e=this.value.customFields)&&void 0!==e?e:{})}customFieldAutocomplete(e,t){t((()=>{const t=e.toLocaleLowerCase();this.existingCustomFieldsOptions=Object.values(this.existingCustomFields).filter((e=>e.toLocaleLowerCase().includes(t)))}))}get filteredCustomFields(){return this.value.customFieldsComputed.filter((e=>!e.key.startsWith("extension.")))}};k([P.State,w("design:type",Object)],Q.prototype,"existingCustomFields",void 0),k([P.Action,w("design:type",Object)],Q.prototype,"fetchExistingCustomFields",void 0),k([Object(c["b"])(),w("design:type","function"===typeof(S="undefined"!==typeof u.a&&u.a)?S:Object)],Q.prototype,"value",void 0),Q=k([c["a"]],Q);var A=Q,D=A,$=i("ddd8"),V=i("9c40"),B=Object(x["a"])(D,E,_,!1,null,null,null),L=B.exports;q()(B,"components",{QSelect:$["a"],QInput:O["a"],QBtn:V["a"]});var N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.revisions.length>1?i("div",[i("div",{staticClass:"row q-gutter-x-xl items-center"},[i("q-slider",{staticClass:"col q-mt-lg",attrs:{color:"primary",markers:"",snap:"",label:"","label-always":"","label-value":e.currentRevisionDate,min:0,step:1,max:e.revisions.length-1},model:{value:e.currentRevisionStep,callback:function(t){e.currentRevisionStep=t},expression:"currentRevisionStep"}}),i("q-btn",{staticClass:"col-auto",attrs:{color:"primary",label:"Revert",disable:e.currentRevisionVersion===e.revisions[0].version},on:{click:function(t){e.confirmRevert=!0}}})],1),i("RevisionFieldDiff",{attrs:{title:"Title",field:"title",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Slug",field:"slug",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Excerpt",field:"excerpt",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Content",field:"content",version:e.currentRevisionVersion,revisions:e.revisions}}),i("q-dialog",{attrs:{value:e.confirmRevert}},[i("q-card",{attrs:{f:""}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.currentRevisionDate)+" version")]),i("q-separator")],1),i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"mdi-alert-remove",color:"warning","text-color":"white"}}),i("span",{staticClass:"q-ml-sm text-subtitle1"},[e._v("Do you want to revert this "+e._s(e.value.type)+"?")])],1),i("q-card-section",[i("span",[e._v("All revisions past "),i("q-badge",{attrs:{label:e.currentRevisionDate,color:"warning"}}),e._v(" will be permanently deleted.")],1)]),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){e.confirmRevert=!1}}}),i("q-btn",{attrs:{flat:"",loading:e.revertLoading,label:"Yes",color:"primary",autofocus:""},on:{click:e.confirmRevertAction,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmRevertAction(t)}}})],1)],1)],1)],1):e._e()},I=[],M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasFieldValueSinceVersion(e.field,e.version)?i("div",[i("p",{staticClass:"text-h6 q-ma-none"},[e._v(e._s(e.title))]),e.previous!==e.current?i("code-diff",{staticClass:"q-ma-none full-width",attrs:{"old-string":e.previous,"new-string":e.current}}):i("p",{domProps:{innerHTML:e._s(e.current)}})],1):e._e()},H=[],K=i("4eff"),U=i.n(K),G=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},Y=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let J=class extends c["d"]{get previous(){return this.getFieldForVersion(this.field,this.version-1)}get current(){return this.getFieldForVersion(this.field,this.version)}getFieldForVersion(e,t){var i;if(t<=0)return"";const n=this.revisions.slice(this.revisions.findIndex((e=>e.version===t)));let o=null!==(i=n[0][e])&&void 0!==i?i:null;if(o)return`${o}\n`;for(let s=1;s<n.length;s++)if(n[s][e])return`${n[s][e]}\n`;return""}hasFieldValueSinceVersion(e,t){const i=this.revisions.slice(this.revisions.findIndex((e=>e.version===t)));for(const n of i)if(n[e])return!0;return!1}};G([Object(c["b"])({type:String}),Y("design:type",String)],J.prototype,"title",void 0),G([Object(c["b"])({type:String}),Y("design:type",String)],J.prototype,"field",void 0),G([Object(c["b"])(),Y("design:type",Number)],J.prototype,"version",void 0),G([Object(c["b"])(),Y("design:type",Array)],J.prototype,"revisions",void 0),J=G([Object(c["a"])({components:{CodeDiff:U.a}})],J);var z,W=J,X=W,Z=Object(x["a"])(X,M,H,!1,null,null,null),ee=Z.exports,te=i("b9b9"),ie=i.n(te),ne=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},oe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const se=Object(f["a"])("Content");let ae=class extends c["d"]{constructor(){super(...arguments),this.currentRevisionStep=0,this.confirmRevert=!1,this.revertLoading=!1}activated(){this.currentRevisionStep=this.revisions.length-1}get revisions(){var e;return this.contentEntitiesRevisions.hasOwnProperty(this.value.type)&&this.contentEntitiesRevisions[this.value.type].hasOwnProperty(this.value.id.toString())&&null!==(e=this.contentEntitiesRevisions[this.value.type][this.value.id.toString()])&&void 0!==e?e:[]}get currentRevisionDate(){var e;const t=null===(e=this.revisions.find((e=>e.version===this.currentRevisionVersion)))||void 0===e?void 0:e.date;return t?ie()(t,"mmmm d, yyyy HH:MM"):this.currentRevisionVersion.toString()}get currentRevisionVersion(){return this.currentRevisionStep>this.revisions.length-1?0:this.revisions[this.revisions.length-this.currentRevisionStep-1].version}async confirmRevertAction(){await this.revertEntity({entity:this.value,version:this.currentRevisionVersion}),this.$emit("reload"),this.confirmRevert=!1}};ne([se.State,oe("design:type",Object)],ae.prototype,"contentEntitiesRevisions",void 0),ne([se.Action,oe("design:type",Object)],ae.prototype,"revertEntity",void 0),ne([Object(c["b"])(),oe("design:type","function"===typeof(z="undefined"!==typeof u.a&&u.a)?z:Object)],ae.prototype,"value",void 0),ae=ne([Object(c["a"])({components:{RevisionFieldDiff:ee}})],ae);var le=ae,re=le,ce=i("c1d0"),de=i("24e8"),ue=i("f09f"),pe=i("a370"),fe=i("eb85"),me=i("cb32"),ve=i("58a81"),ye=i("4b7e"),be=Object(x["a"])(re,N,I,!1,null,null,null),he=be.exports;q()(be,"components",{QSlider:ce["a"],QBtn:V["a"],QDialog:de["a"],QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"],QAvatar:me["a"],QBadge:ve["a"],QCardActions:ye["a"]});var ge,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column q-gutter-y-md"},[i("q-input",{attrs:{filled:"",label:"SEO title",counter:"",placeholder:e.value.title,hint:"Keep it under 70 characters for best results"},model:{value:e.value.seoTitle,callback:function(t){e.$set(e.value,"seoTitle",t)},expression:"value.seoTitle"}}),i("q-input",{attrs:{filled:"",label:"Meta description",type:"textarea",autogrow:"",hint:"Maximum 157 characters",rules:[function(e){return e.length<=157||"Maximum 157 characters"}],counter:""},model:{value:e.value.seoDescription,callback:function(t){e.$set(e.value,"seoDescription",t)},expression:"value.seoDescription"}})],1)},xe=[],Oe=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},je=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Re=class extends c["d"]{};Oe([Object(c["b"])(),je("design:type","function"===typeof(ge="undefined"!==typeof u.a&&u.a)?ge:Object)],Re.prototype,"value",void 0),Re=Oe([c["a"]],Re);var qe=Re,Te=qe,Fe=Object(x["a"])(Te,Ce,xe,!1,null,null,null),Se=Fe.exports;q()(Fe,"components",{QInput:O["a"]});var Ee,_e,ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column q-gutter-y-md"},e._l(e.extension.controls,(function(t,n){return i(e.formControlName(t.name),{key:n,tag:"component",staticClass:"q-mb-md",attrs:{value:e.value.customFields["extension."+e.extension.name+"."+n],parameters:t.parameters},on:{input:function(t){return e.updateValue(n,t)}}})})),1)},we=[],Pe=i("ce24"),Qe=i("32f7"),Ae=i.n(Qe),De=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},$e=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Ve=Object(f["a"])("Content");let Be=class extends c["d"]{constructor(){super(...arguments),this.existingCustomFieldsOptions=null}created(){var e;this.fetchExistingCustomFields().then((()=>this.existingCustomFieldsOptions=Object.values(this.existingCustomFields))),this.value.customFields=Object.assign({},null!==(e=this.value.customFields)&&void 0!==e?e:{})}formControlName(e){return"FormControl"+e}updateValue(e,t){this.value.setCustomFieldValue(`extension.${this.extension.name}.${e}`,t)}};De([Ve.State,$e("design:type",Object)],Be.prototype,"existingCustomFields",void 0),De([Ve.Action,$e("design:type",Object)],Be.prototype,"fetchExistingCustomFields",void 0),De([Object(c["b"])(),$e("design:type","function"===typeof(Ee="undefined"!==typeof u.a&&u.a)?Ee:Object)],Be.prototype,"value",void 0),De([Object(c["b"])(),$e("design:type","function"===typeof(_e="undefined"!==typeof Ae.a&&Ae.a)?_e:Object)],Be.prototype,"extension",void 0),Be=De([Object(c["a"])({components:Pe["a"]})],Be);var Le,Ne=Be,Ie=Ne,Me=Object(x["a"])(Ie,ke,we,!1,null,null,null),He=Me.exports,Ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.taxonomyTerms.length>0?i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.taxonomyPlural))]),i("q-separator")],1),i("q-card-section",{staticClass:"q-gutter-y-md"},[i("q-select",{attrs:{filled:"",options:e.taxonomyTerms,label:"Select "+e.taxonomyPlural.toLowerCase(),"option-label":"name","option-value":"id",multiple:""},model:{value:e.selectedTaxonomyTerms,callback:function(t){e.selectedTaxonomyTerms=t},expression:"selectedTaxonomyTerms"}}),i("q-input",{attrs:{label:"Add new "+e.taxonomy,filled:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTaxonomyTerm(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add",loading:e.saveLoading},on:{click:e.saveTaxonomyTerm}})]},proxy:!0}],null,!1,2051656636),model:{value:e.newTaxonomyTerm,callback:function(t){e.newTaxonomyTerm=t},expression:"newTaxonomyTerm"}})],1)],1):e._e()},Ue=[],Ge=i("761a"),Ye=i.n(Ge),Je=i("2ef0"),ze=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},We=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Xe=Object(f["a"])("Taxonomy");let Ze=class extends c["d"]{constructor(){super(...arguments),this.newTaxonomyTerm="",this.saveLoading=!1}created(){this.fetchTermPage({taxonomy:this.taxonomy,sortBy:"name",descending:!1})}async saveTaxonomyTerm(){this.saveLoading=!0;const e=await this.saveTerm({taxonomy:this.taxonomy,term:{name:this.newTaxonomyTerm,slug:m["a"](this.newTaxonomyTerm)}});this.value.terms?this.value.terms.push(e):this.$set(this.value,"terms",[e]),this.newTaxonomyTerm="",this.saveLoading=!1}get taxonomyTerms(){return Object(Je["get"])(this.terms,this.taxonomy,[])}get selectedTaxonomyTerms(){return this.value.terms?this.value.terms.filter((e=>{var t;return(null===(t=e.taxonomy)||void 0===t?void 0:t.name)===this.taxonomy})):[]}set selectedTaxonomyTerms(e){var t,i,n,o;e=e.map((e=>(e.taxonomy={name:this.taxonomy},e))),null===(t=this.value.terms)||void 0===t||t.splice(0,null===(i=this.value.terms)||void 0===i?void 0:i.length,...null===(n=this.value.terms)||void 0===n?void 0:n.filter((e=>!e.taxonomy||e.taxonomy.name!==this.taxonomy))),null===(o=this.value.terms)||void 0===o||o.push(...e)}get taxonomyPlural(){return Object(Je["upperFirst"])(Ye()(this.taxonomy))}};ze([Xe.State,We("design:type",Object)],Ze.prototype,"terms",void 0),ze([Xe.Action,We("design:type",Object)],Ze.prototype,"saveTerm",void 0),ze([Xe.Action,We("design:type",Function)],Ze.prototype,"fetchTermPage",void 0),ze([Object(c["b"])(),We("design:type","function"===typeof(Le="undefined"!==typeof u.a&&u.a)?Le:Object)],Ze.prototype,"value",void 0),ze([Object(c["b"])(),We("design:type",String)],Ze.prototype,"taxonomy",void 0),Ze=ze([c["a"]],Ze);var et=Ze,tt=et,it=Object(x["a"])(tt,Ke,Ue,!1,null,null,null),nt=it.exports;q()(it,"components",{QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"],QSelect:$["a"],QInput:O["a"],QBtn:V["a"]});var ot,st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Featured image")]),i("q-separator")],1),i("q-card-section",[i("MediaSelect",{staticClass:"full-width q-mt-xs",attrs:{value:e.value.featuredImage?e.value.featuredImage.id:null},on:{"input-computed":e.setFeaturedImage}})],1)],1)},at=[],lt=i("ba9a"),rt=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},ct=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let dt=class extends c["d"]{setFeaturedImage({value:e}){this.value.featuredImage=e}};rt([Object(c["b"])(),ct("design:type","function"===typeof(ot="undefined"!==typeof u.a&&u.a)?ot:Object)],dt.prototype,"value",void 0),dt=rt([Object(c["a"])({components:{MediaSelect:lt["a"]}})],dt);var ut=dt,pt=ut,ft=Object(x["a"])(pt,st,at,!1,null,null,null),mt=ft.exports;q()(ft,"components",{QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"]});var vt,yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.templates.length>0?i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Template")]),i("q-separator")],1),i("q-card-section",[i("q-select",{attrs:{options:e.templates,label:"Custom template",filled:"","emit-value":"","map-options":"",value:e.value.getCustomFieldValue("page_template")},on:{input:function(t){return e.value.setCustomFieldValue("page_template",t)}},scopedSlots:e._u([e.value.getCustomFieldValue("page_template")?{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){return t.stopPropagation(),e.value.deleteCustomField("page_template")}}})]},proxy:!0}:null],null,!0)})],1)],1):e._e()},bt=[],ht=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},gt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Ct=Object(f["a"])("Content");let xt=class extends c["d"]{created(){this.fetchTemplates(this.value.type)}get templates(){if(!this.contentEntitiesTemplates[this.value.type]||0===this.contentEntitiesTemplates[this.value.type].length)return[];const e=[];for(const t of this.contentEntitiesTemplates[this.value.type])e.push({label:t,value:t});return e}};ht([Ct.State,gt("design:type",Object)],xt.prototype,"contentEntitiesTemplates",void 0),ht([Ct.Action,gt("design:type",Object)],xt.prototype,"fetchTemplates",void 0),ht([Object(c["b"])(),gt("design:type","function"===typeof(vt="undefined"!==typeof u.a&&u.a)?vt:Object)],xt.prototype,"value",void 0),xt=ht([c["a"]],xt);var Ot=xt,jt=Ot,Rt=i("0016"),qt=Object(x["a"])(jt,yt,bt,!1,null,null,null),Tt=qt.exports;q()(qt,"components",{QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"],QSelect:$["a"],QIcon:Rt["a"]});var Ft,St,Et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Publish")]),i("q-separator")],1),i("q-card-section",[i("q-select",{attrs:{label:"Status",filled:"",options:e.statusOptions,"map-options":"","emit-value":""},model:{value:e.value.status,callback:function(t){e.$set(e.value,"status",t)},expression:"value.status"}})],1),i("q-card-actions",{attrs:{align:"between"}},[i("q-btn",{staticClass:"q-ma-sm",attrs:{flat:"",color:"negative",icon:"mdi-delete"},on:{click:function(t){return e.$emit("update:delete-action",!0)}}}),i("q-btn",{staticClass:"q-ma-sm",attrs:{color:"primary",label:e.publishActionText,loading:e.saveLoading},on:{click:function(t){return e.$emit("save")}}})],1)],1)},_t=[],kt=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},wt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Pt=class extends c["d"]{constructor(){super(...arguments),this.statusOptions=[{label:"Draft",value:"draft"},{label:"Private",value:"private"},{label:"Pending review",value:"pending_review"},{label:"Published",value:"publish"}]}get publishActionText(){return this.value?"publish"!==this.originalEntity.status&&"publish"===this.value.status?"Publish":"Update":""}};kt([Object(c["b"])(),wt("design:type","function"===typeof(Ft="undefined"!==typeof u.a&&u.a)?Ft:Object)],Pt.prototype,"value",void 0),kt([Object(c["b"])(),wt("design:type","function"===typeof(St="undefined"!==typeof u.a&&u.a)?St:Object)],Pt.prototype,"originalEntity",void 0),kt([Object(c["b"])({type:Boolean}),wt("design:type",Boolean)],Pt.prototype,"saveLoading",void 0),kt([Object(c["b"])({type:Boolean}),wt("design:type",Boolean)],Pt.prototype,"deleteAction",void 0),Pt=kt([c["a"]],Pt);var Qt=Pt,At=Qt,Dt=Object(x["a"])(At,Et,_t,!1,null,null,null),$t=Dt.exports;q()(Dt,"components",{QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"],QSelect:$["a"],QCardActions:ye["a"],QBtn:V["a"]});var Vt,Bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row justify-end"},[i("q-btn",{class:{"full-width":e.$q.screen.lt.lg},attrs:{label:"Page builder",icon:"mdi-toy-brick",color:"primary",outline:""},on:{click:function(t){e.goToPageBuilderAction=!0}}}),i("q-dialog",{attrs:{persistent:""},model:{value:e.goToPageBuilderAction,callback:function(t){e.goToPageBuilderAction=t},expression:"goToPageBuilderAction"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"mdi-exclamation-thick",color:"warning","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Do you want to save this "+e._s(e.typeName)+" before switching to page builder?")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Cancel",color:"secondary"},on:{click:function(t){e.goToPageBuilderAction=!1}}}),i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){return e.goToPageBuilder(!1)}}}),i("q-btn",{attrs:{flat:"",label:"Yes",color:"primary",autofocus:"",loading:e.saveLoading},on:{click:function(t){return e.goToPageBuilder(!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.goToPageBuilder(!0)}}})],1)],1)],1)],1)},Lt=[],Nt=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},It=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Mt=Object(f["a"])("ContentType");let Ht=class extends c["d"]{constructor(){super(...arguments),this.goToPageBuilderAction=!1}goToPageBuilder(e){e?this.$emit("save",(()=>{this.$router.push({name:this.value.type+"_edit",params:{id:this.value.id.toString()}})})):this.$router.push({name:this.value.type+"_edit",params:{id:this.value.id.toString()}})}get typeName(){var e;return this.value?this.findByName(null===(e=this.value)||void 0===e?void 0:e.type).name.toLowerCase():""}};Nt([Mt.Getter,It("design:type",Object)],Ht.prototype,"findByName",void 0),Nt([Object(c["b"])(),It("design:type","function"===typeof(Vt="undefined"!==typeof u.a&&u.a)?Vt:Object)],Ht.prototype,"value",void 0),Nt([Object(c["b"])({type:Boolean}),It("design:type",Boolean)],Ht.prototype,"saveLoading",void 0),Ht=Nt([c["a"]],Ht);var Kt=Ht,Ut=Kt,Gt=Object(x["a"])(Ut,Bt,Lt,!1,null,null,null),Yt=Gt.exports;q()(Gt,"components",{QBtn:V["a"],QDialog:de["a"],QCard:ue["a"],QCardSection:pe["a"],QAvatar:me["a"],QCardActions:ye["a"]});var Jt,zt,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.extension.parameters.label))]),i("q-separator")],1),i("q-card-section",e._l(e.extension.controls,(function(t,n){return i(e.formControlName(t.name),{key:n,tag:"component",staticClass:"q-mb-md",attrs:{value:e.value.customFields["extension."+e.extension.name+"."+n],parameters:t.parameters},on:{input:function(t){return e.updateValue(n,t)}}})})),1)],1)},Xt=[],Zt=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},ei=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ti=Object(f["a"])("Content");let ii=class extends c["d"]{constructor(){super(...arguments),this.existingCustomFieldsOptions=null}created(){var e;this.fetchExistingCustomFields().then((()=>this.existingCustomFieldsOptions=Object.values(this.existingCustomFields))),this.value.customFields=Object.assign({},null!==(e=this.value.customFields)&&void 0!==e?e:{})}formControlName(e){return"FormControl"+e}updateValue(e,t){this.value.setCustomFieldValue(`extension.${this.extension.name}.${e}`,t)}};Zt([ti.State,ei("design:type",Object)],ii.prototype,"existingCustomFields",void 0),Zt([ti.Action,ei("design:type",Object)],ii.prototype,"fetchExistingCustomFields",void 0),Zt([Object(c["b"])(),ei("design:type","function"===typeof(Jt="undefined"!==typeof u.a&&u.a)?Jt:Object)],ii.prototype,"value",void 0),Zt([Object(c["b"])(),ei("design:type","function"===typeof(zt="undefined"!==typeof Ae.a&&Ae.a)?zt:Object)],ii.prototype,"extension",void 0),ii=Zt([Object(c["a"])({components:Pe["a"]})],ii);var ni=ii,oi=ni,si=Object(x["a"])(oi,Wt,Xt,!1,null,null,null),ai=si.exports;q()(si,"components",{QCard:ue["a"],QCardSection:pe["a"],QSeparator:fe["a"]});var li=i("c5f3"),ri=i("7905");class ci{getCustomField(e){let t=this.customFieldsComputed.find((t=>t.key===e));return t||(t=this.customFieldsComputed.find((e=>""===e.key))),this.setCustomFieldKey(t,e),this.customFieldsComputed.find((t=>t.key===e))}getCustomFieldValue(e){var t;return null===(t=this.customFieldsComputed.find((t=>t.key===e)))||void 0===t?void 0:t.value}setCustomFieldKey(e,t){const i=this.customFieldsComputed;i.find((t=>t.key===e.key)).key=t,this.customFieldsComputed=i}setCustomFieldValue(e,t){if(void 0===t)return void this.deleteCustomField(e);"string"===typeof e&&(e=this.getCustomField(e));const i=this.customFieldsComputed;i.find((t=>t.key===e.key)).value=t,this.customFieldsComputed=i}deleteCustomField(e){"string"===typeof e&&(e=this.getCustomField(e));const t=this.customFieldsComputed;t.splice(t.findIndex((t=>t.key===e.key)),1),this.customFieldsComputed=t}get customFieldsComputed(){const e=[];if(this.customFields)for(const t in this.customFields)this.customFields.hasOwnProperty(t)&&e.push({key:t,value:this.customFields[t]});return e.push({key:"",value:""}),e}set customFieldsComputed(e){this.customFields={};for(const t of e)t.key.trim()&&(this.customFields[t.key]=t.value)}}i("98db");var di=function(e,t,i,n){var o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,i,a):o(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a},ui=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const pi=Object(f["a"])("ContentType"),fi=Object(f["a"])("Content"),mi=Object(f["a"])("Taxonomy");let vi=class extends c["d"]{constructor(){super(...arguments),this.model=null,this.saveLoading=!1,this.deleteLoading=!1,this.deleteAction=!1,this.tab="content",this.tabs=[{name:"content",icon:"mdi-file-document-edit-outline",label:"Content",panel:{component:"ClassicEditorPanelContent"}},{name:"seo",icon:"mdi-card-search-outline",label:"SEO",panel:{component:"ClassicEditorPanelSEO"}},{name:"custom_fields",icon:"mdi-form-textbox",label:"Custom fields",panel:{component:"ClassicEditorPanelCustomFields"}},{visible:e=>e.revisions.length>1,name:"revisions",icon:"mdi-timeline-text-outline",label:"Revisions",panel:{component:"ClassicEditorPanelRevisions"}}],this.sidebarComponents=[{component:"ClassicEditorSidebarSwitchPageBuilder"},{component:"ClassicEditorSidebarPublish"},{component:"ClassicEditorSidebarFeaturedImage"},{component:"ClassicEditorSidebarPageTemplate"},{id:"ClassicEditorSidebarTaxonomy_category",visible:()=>this.doesContentTypeHasTaxonomy("category"),component:"ClassicEditorSidebarTaxonomy",props:{taxonomy:"category"}},{id:"ClassicEditorSidebarTaxonomy_tag",visible:()=>this.doesContentTypeHasTaxonomy("tag"),component:"ClassicEditorSidebarTaxonomy",props:{taxonomy:"tag"}}]}created(){ri["a"].on("ContentType:loaded",(()=>{this.getEntity()})),this.fetchTaxonomies(),this.contentTypes.length>0&&this.getEntity()}async getEntity(){this.originalEntity=await this.fetchFullById({type:this.type,id:this.id}),this.model=Object(a["a"])(new ci,Object(Je["cloneDeep"])(this.originalEntity)),this.fetchContentEntityRevisions(this.model);const e=await this.fetchContentTypeEditorExtension(this.type);e.tabs.forEach((e=>{var t;this.tabs.push({name:e.name,icon:null!==(t=e.parameters.icon)&&void 0!==t?t:"mdi-file-document-edit-outline",label:e.parameters.label,panel:{component:"ClassicEditorPanelDynamic",props:{extension:e}}})})),e.sidebarComponents.forEach((e=>{this.sidebarComponents.push({id:`ClassicEditorSidebarDynamic_${e.name}`,component:"ClassicEditorSidebarDynamic",props:{extension:e}})})),ri["a"].emit("ContentEditClassic:sidebarComponents",{type:this.type,sidebarComponents:this.sidebarComponents}),ri["a"].emit("ContentEditClassic:tabs",{type:this.type,tabs:this.tabs})}async save(e){if(!this.model)return;this.saveLoading=!0;let t=Object(Je["cloneDeep"])(this.model);t=await this.saveEntity(t),this.model=Object(a["a"])(new ci,t),this.saveLoading=!1,e&&e(),await this.fetchContentEntityRevisions(this.model)}reload(){this.getEntity()}get typeName(){var e;return this.model?this.findByName(null===(e=this.model)||void 0===e?void 0:e.type).name.toLowerCase():""}async confirmDelete(){this.deleteLoading=!0,await this.deleteEntity(this.model),this.deleteLoading=!1,this.deleteAction=!1,await this.$router.push({name:this.type+"_index"})}get revisions(){var e;return this.contentEntitiesRevisions.hasOwnProperty(this.type)&&this.contentEntitiesRevisions[this.type].hasOwnProperty(this.id.toString())&&null!==(e=this.contentEntitiesRevisions[this.type][this.id.toString()])&&void 0!==e?e:[]}onRevisionsChanged(){"revisions"===this.tab&&this.revisions.length<=1&&(this.tab="content")}doesContentTypeHasTaxonomy(e){return this.taxonomies.filter((t=>{var i;return(null===(i=t.contentTypes)||void 0===i?void 0:i.includes(this.type))&&t.name===e})).length>0}get visibleTabs(){return this.tabs.filter((e=>!e.visible||e.visible(this)))}get visibleSidebarComponents(){return this.sidebarComponents.filter((e=>!e.visible||e.visible(this)))}};di([pi.State,ui("design:type",Object)],vi.prototype,"contentTypes",void 0),di([pi.Action,ui("design:type",Object)],vi.prototype,"fetchContentTypeEditorExtension",void 0),di([pi.Getter,ui("design:type",Object)],vi.prototype,"findByName",void 0),di([fi.State,ui("design:type",Object)],vi.prototype,"contentEntitiesRevisions",void 0),di([fi.Action,ui("design:type",Object)],vi.prototype,"fetchFullById",void 0),di([fi.Action,ui("design:type",Object)],vi.prototype,"saveEntity",void 0),di([fi.Action,ui("design:type",Object)],vi.prototype,"deleteEntity",void 0),di([fi.Action,ui("design:type",Object)],vi.prototype,"fetchContentEntityRevisions",void 0),di([mi.State,ui("design:type",Array)],vi.prototype,"taxonomies",void 0),di([mi.Action,ui("design:type",Object)],vi.prototype,"fetchTaxonomies",void 0),di([Object(c["b"])(),ui("design:type",Number)],vi.prototype,"id",void 0),di([Object(c["b"])(),ui("design:type",String)],vi.prototype,"type",void 0),di([Object(c["e"])("revisions"),ui("design:type",Function),ui("design:paramtypes",[]),ui("design:returntype",void 0)],vi.prototype,"onRevisionsChanged",null),vi=di([Object(c["a"])({components:{ClassicEditorPanelContent:F,ClassicEditorPanelSEO:Se,ClassicEditorPanelCustomFields:L,ClassicEditorPanelRevisions:he,ClassicEditorPanelDynamic:He,ClassicEditorSidebarPublish:$t,ClassicEditorSidebarFeaturedImage:mt,ClassicEditorSidebarSwitchPageBuilder:Yt,ClassicEditorSidebarPageTemplate:Tt,ClassicEditorSidebarTaxonomy:nt,ClassicEditorSidebarDynamic:ai,MediaSelect:lt["a"],MediaLibraryDialog:li["a"]}})],vi);var yi=vi,bi=yi,hi=i("9989"),gi=i("429b"),Ci=i("7460"),xi=i("adad"),Oi=i("823b"),ji=i("de5e"),Ri=i("65c6"),qi=i("6ac5"),Ti=i("05c0"),Fi=Object(x["a"])(bi,o,s,!1,null,null,null);t["default"]=Fi.exports;q()(Fi,"components",{QPage:hi["a"],QCard:ue["a"],QTabs:gi["a"],QTab:Ci["a"],QSeparator:fe["a"],QTabPanels:xi["a"],QTabPanel:Oi["a"],QDialog:de["a"],QCardSection:pe["a"],QAvatar:me["a"],QCardActions:ye["a"],QBtn:V["a"],QPageSticky:ji["a"],QToolbar:Ri["a"],QToolbarTitle:qi["a"],QTooltip:Ti["a"]})}}]);