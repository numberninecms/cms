(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{1:function(e,t){},c587:function(e,t,i){"use strict";i.r(t);var n,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[i("div",{staticStyle:{"padding-top":"42px"}},[e.model?i("div",{staticClass:"row q-pa-md q-gutter-x-md"},[i("div",{staticClass:"col-12 col-md-9"},[i("q-card",{attrs:{flat:""}},[i("q-tabs",{staticClass:"text-primary shadow-2",attrs:{align:"left",dense:"","inline-label":"","active-color":"primary","indicator-color":"primary"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.visibleTabs,(function(t){return i("q-tab",{key:t.name,attrs:{name:t.name,icon:t.icon,label:e.$q.screen.gt.xs?t.label:""}})})),1),i("q-separator"),i("q-tab-panels",{attrs:{"keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t){return i("q-tab-panel",{key:t.name,attrs:{name:t.name}},[i(t.panel.component,e._g(e._b({tag:"component",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"component",t.panel.props,!1),Object.assign({},{save:e.save,reload:e.reload},t.panel.events)))],1)})),1)],1)],1),i("div",{staticClass:"col q-gutter-y-md"},e._l(e.visibleSidebarComponents,(function(t){return i(t.component,e._g(e._b({key:t.id?t.id:t.component,tag:"component",attrs:{"delete-action":e.deleteAction},on:{"update:deleteAction":function(t){e.deleteAction=t},"update:delete-action":function(t){e.deleteAction=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"component",Object.assign({},{originalEntity:e.originalEntity,saveLoading:e.saveLoading},t.props),!1),Object.assign({},{save:e.save,reload:e.reload},t.events)))})),1)]):e._e()]),i("q-dialog",{attrs:{persistent:""},model:{value:e.deleteAction,callback:function(t){e.deleteAction=t},expression:"deleteAction"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"delete_forever",color:"negative","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Do you want to delete this "+e._s(e.typeName)+"?")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){e.deleteAction=!1}}}),i("q-btn",{attrs:{flat:"",label:"Yes",color:"primary",autofocus:"",loading:e.deleteLoading},on:{click:e.confirmDelete,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmDelete(t)}}})],1)],1)],1),i("MediaLibraryDialog"),i("q-page-sticky",{staticStyle:{"z-index":"10"},attrs:{expand:"",position:"top"}},[i("q-toolbar",{staticClass:"bg-primary text-white"},[e.id&&e.model?i("q-toolbar-title",[e._v(e._s(e.model.title))]):i("q-toolbar-title",[e._v("Loading...")]),e.model?i("q-btn",{attrs:{flat:"",dense:"",color:"white",icon:"mdi-eye-outline",href:e.model.publicUrl,type:"a",target:"_blank"}},[i("q-tooltip",[e._v("View")])],1):e._e()],1)],1)],1)},a=[],s=i("6f7e"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column q-gutter-y-md"},[i("q-input",{attrs:{filled:"",label:"Title"},model:{value:e.value.title,callback:function(t){e.$set(e.value,"title",t)},expression:"value.title"}}),i("p",{staticClass:"text-bold text-body1 q-mb-none"},[e._v("Content")]),i("TinyEditor",{model:{value:e.value.content,callback:function(t){e.$set(e.value,"content",t)},expression:"value.content"}})],1)},r=[],c=i("60a3"),d=i("583e"),u=i.n(d),p=i("bd7a"),f=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let m=class extends c["d"]{created(){var e;this.value.excerpt=null!==(e=this.value.excerpt)&&void 0!==e?e:""}};f([Object(c["b"])(),v("design:type","function"===typeof(n="undefined"!==typeof u.a&&u.a)?n:Object)],m.prototype,"value",void 0),m=f([Object(c["a"])({components:{TinyEditor:p["a"]}})],m);var y=m,b=y,h=i("2877"),g=i("27f9"),C=i("eebe"),x=i.n(C),O=Object(h["a"])(b,l,r,!1,null,null,null),j=O.exports;x()(O,"components",{QInput:g["a"]});var R,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.value.customFieldsComputed,(function(t){return i("div",{key:t.id,staticClass:"row q-col-gutter-md q-gutter-y-md items-start"},[i("q-select",{staticClass:"col-12 col-sm-6",attrs:{filled:"","use-input":"","fill-input":"","input-debounce":"0","hide-selected":"",label:"Name",options:e.existingCustomFieldsOptions,value:t.key},on:{filter:e.customFieldAutocomplete,"input-value":function(i){return e.value.setCustomFieldKey(t,i)}}}),i("q-input",{staticClass:"col-12 col-sm-6",attrs:{value:t.value,label:"Value",filled:"",autogrow:""},on:{input:function(i){return e.value.setCustomFieldValue(t,i)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"mdi-delete"},on:{click:function(i){return e.value.deleteCustomField(t)}}})]},proxy:!0}],null,!0)})],1)})),0)},q=[],k=i("4bb5"),E=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},S=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const _=Object(k["a"])("Content");let w=class extends c["d"]{constructor(){super(...arguments),this.existingCustomFieldsOptions=null}created(){var e;this.fetchExistingCustomFields().then((()=>this.existingCustomFieldsOptions=Object.values(this.existingCustomFields))),this.value.customFields=Object.assign({},null!==(e=this.value.customFields)&&void 0!==e?e:{})}customFieldAutocomplete(e,t){t((()=>{const t=e.toLocaleLowerCase();this.existingCustomFieldsOptions=Object.values(this.existingCustomFields).filter((e=>e.toLocaleLowerCase().includes(t)))}))}};E([_.State,S("design:type",Object)],w.prototype,"existingCustomFields",void 0),E([_.Action,S("design:type",Object)],w.prototype,"fetchExistingCustomFields",void 0),E([Object(c["b"])(),S("design:type","function"===typeof(R="undefined"!==typeof u.a&&u.a)?R:Object)],w.prototype,"value",void 0),w=E([c["a"]],w);var F=w,P=F,Q=i("ddd8"),A=i("9c40"),D=Object(h["a"])(P,T,q,!1,null,null,null),B=D.exports;x()(D,"components",{QSelect:Q["a"],QInput:g["a"],QBtn:A["a"]});var L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.revisions.length>1?i("div",[i("div",{staticClass:"row q-gutter-x-xl items-center"},[i("q-slider",{staticClass:"col q-mt-lg",attrs:{color:"primary",markers:"",snap:"",label:"","label-always":"","label-value":e.currentRevisionDate,min:0,step:1,max:e.revisions.length-1},model:{value:e.currentRevisionStep,callback:function(t){e.currentRevisionStep=t},expression:"currentRevisionStep"}}),i("q-btn",{staticClass:"col-auto",attrs:{color:"primary",label:"Revert",disable:e.currentRevisionVersion===e.revisions[0].version},on:{click:function(t){e.confirmRevert=!0}}})],1),i("RevisionFieldDiff",{attrs:{title:"Title",field:"title",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Slug",field:"slug",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Excerpt",field:"excerpt",version:e.currentRevisionVersion,revisions:e.revisions}}),i("RevisionFieldDiff",{attrs:{title:"Content",field:"content",version:e.currentRevisionVersion,revisions:e.revisions}}),i("q-dialog",{attrs:{value:e.confirmRevert}},[i("q-card",{attrs:{f:""}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.currentRevisionDate)+" version")]),i("q-separator")],1),i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"mdi-alert-remove",color:"warning","text-color":"white"}}),i("span",{staticClass:"q-ml-sm text-subtitle1"},[e._v("Do you want to revert this "+e._s(e.value.type)+"?")])],1),i("q-card-section",[i("span",[e._v("All revisions past "),i("q-badge",{attrs:{label:e.currentRevisionDate,color:"warning"}}),e._v(" will be permanently deleted.")],1)]),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){e.confirmRevert=!1}}}),i("q-btn",{attrs:{flat:"",loading:e.revertLoading,label:"Yes",color:"primary",autofocus:""},on:{click:e.confirmRevertAction,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmRevertAction(t)}}})],1)],1)],1)],1):e._e()},$=[],V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasFieldValueSinceVersion(e.field,e.version)?i("div",[i("p",{staticClass:"text-h6 q-ma-none"},[e._v(e._s(e.title))]),e.previous!==e.current?i("code-diff",{staticClass:"q-ma-none full-width",attrs:{"old-string":e.previous,"new-string":e.current}}):i("p",{domProps:{innerHTML:e._s(e.current)}})],1):e._e()},I=[],N=i("4eff"),M=i.n(N),H=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Y=class extends c["d"]{get previous(){return this.getFieldForVersion(this.field,this.version-1)}get current(){return this.getFieldForVersion(this.field,this.version)}getFieldForVersion(e,t){var i;if(t<=0)return"";const n=this.revisions.slice(this.revisions.findIndex((e=>e.version===t)));let o=null!==(i=n[0][e])&&void 0!==i?i:null;if(o)return o+"\n";for(let a=1;a<n.length;a++)if(n[a][e])return n[a][e]+"\n";return""}hasFieldValueSinceVersion(e,t){const i=this.revisions.slice(this.revisions.findIndex((e=>e.version===t)));for(const n of i)if(n[e])return!0;return!1}};H([Object(c["b"])({type:String}),K("design:type",String)],Y.prototype,"title",void 0),H([Object(c["b"])({type:String}),K("design:type",String)],Y.prototype,"field",void 0),H([Object(c["b"])(),K("design:type",Number)],Y.prototype,"version",void 0),H([Object(c["b"])(),K("design:type",Array)],Y.prototype,"revisions",void 0),Y=H([Object(c["a"])({components:{CodeDiff:M.a}})],Y);var G,J=Y,U=J,z=Object(h["a"])(U,V,I,!1,null,null,null),W=z.exports,X=i("b9b9"),Z=i.n(X),ee=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},te=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const ie=Object(k["a"])("Content");let ne=class extends c["d"]{constructor(){super(...arguments),this.currentRevisionStep=0,this.confirmRevert=!1,this.revertLoading=!1}activated(){this.currentRevisionStep=this.revisions.length-1}get revisions(){var e;return this.contentEntitiesRevisions.hasOwnProperty(this.value.type)&&this.contentEntitiesRevisions[this.value.type].hasOwnProperty(this.value.id.toString())&&null!==(e=this.contentEntitiesRevisions[this.value.type][this.value.id.toString()])&&void 0!==e?e:[]}get currentRevisionDate(){var e;const t=null===(e=this.revisions.find((e=>e.version===this.currentRevisionVersion)))||void 0===e?void 0:e.date;return t?Z()(t,"mmmm d, yyyy HH:MM"):this.currentRevisionVersion.toString()}get currentRevisionVersion(){return this.currentRevisionStep>this.revisions.length-1?0:this.revisions[this.revisions.length-this.currentRevisionStep-1].version}async confirmRevertAction(){await this.revertEntity({entity:this.value,version:this.currentRevisionVersion}),this.$emit("reload"),this.confirmRevert=!1}};ee([ie.State,te("design:type",Object)],ne.prototype,"contentEntitiesRevisions",void 0),ee([ie.Action,te("design:type",Object)],ne.prototype,"revertEntity",void 0),ee([Object(c["b"])(),te("design:type","function"===typeof(G="undefined"!==typeof u.a&&u.a)?G:Object)],ne.prototype,"value",void 0),ne=ee([Object(c["a"])({components:{RevisionFieldDiff:W}})],ne);var oe=ne,ae=oe,se=i("c1d0"),le=i("24e8"),re=i("f09f"),ce=i("a370"),de=i("eb85"),ue=i("cb32"),pe=i("58a81"),fe=i("4b7e"),ve=Object(h["a"])(ae,L,$,!1,null,null,null),me=ve.exports;x()(ve,"components",{QSlider:se["a"],QBtn:A["a"],QDialog:le["a"],QCard:re["a"],QCardSection:ce["a"],QSeparator:de["a"],QAvatar:ue["a"],QBadge:pe["a"],QCardActions:fe["a"]});var ye,be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column q-gutter-y-md"},[i("q-input",{attrs:{filled:"",label:"SEO title",counter:"",placeholder:e.value.title,hint:"Keep it under 70 characters for best results"},model:{value:e.value.seoTitle,callback:function(t){e.$set(e.value,"seoTitle",t)},expression:"value.seoTitle"}}),i("q-input",{attrs:{filled:"",label:"Meta description",type:"textarea",autogrow:"",hint:"Maximum 157 characters",rules:[function(e){return e.length<=157||"Maximum 157 characters"}],counter:""},model:{value:e.value.seoDescription,callback:function(t){e.$set(e.value,"seoDescription",t)},expression:"value.seoDescription"}})],1)},he=[],ge=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Ce=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let xe=class extends c["d"]{};ge([Object(c["b"])(),Ce("design:type","function"===typeof(ye="undefined"!==typeof u.a&&u.a)?ye:Object)],xe.prototype,"value",void 0),xe=ge([c["a"]],xe);var Oe=xe,je=Oe,Re=Object(h["a"])(je,be,he,!1,null,null,null),Te=Re.exports;x()(Re,"components",{QInput:g["a"]});var qe,ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.taxonomyTerms.length>0?i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.taxonomyPlural))]),i("q-separator")],1),i("q-card-section",{staticClass:"q-gutter-y-md"},[i("q-select",{attrs:{filled:"",options:e.taxonomyTerms,label:"Select "+e.taxonomyPlural.toLowerCase(),"option-label":"name","option-value":"id",multiple:""},model:{value:e.selectedTaxonomyTerms,callback:function(t){e.selectedTaxonomyTerms=t},expression:"selectedTaxonomyTerms"}}),i("q-input",{attrs:{label:"Add new "+e.taxonomy,filled:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTaxonomyTerm(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add",loading:e.saveLoading},on:{click:e.saveTaxonomyTerm}})]},proxy:!0}],null,!1,2051656636),model:{value:e.newTaxonomyTerm,callback:function(t){e.newTaxonomyTerm=t},expression:"newTaxonomyTerm"}})],1)],1):e._e()},Ee=[],Se=i("ff94"),_e=i("761a"),we=i.n(_e),Fe=i("2ef0"),Pe=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Qe=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Ae=Object(k["a"])("Taxonomy");let De=class extends c["d"]{constructor(){super(...arguments),this.newTaxonomyTerm="",this.saveLoading=!1}created(){this.fetchTermPage({taxonomy:this.taxonomy,sortBy:"name",descending:!1})}async saveTaxonomyTerm(){this.saveLoading=!0;const e=await this.saveTerm({taxonomy:this.taxonomy,term:{name:this.newTaxonomyTerm,slug:Se["a"](this.newTaxonomyTerm)}});this.value.terms?this.value.terms.push(e):this.$set(this.value,"terms",[e]),this.newTaxonomyTerm="",this.saveLoading=!1}get taxonomyTerms(){return Object(Fe["get"])(this.terms,this.taxonomy,[])}get selectedTaxonomyTerms(){return this.value.terms?this.value.terms.filter((e=>{var t;return(null===(t=e.taxonomy)||void 0===t?void 0:t.name)===this.taxonomy})):[]}set selectedTaxonomyTerms(e){var t,i,n,o;e=e.map((e=>(e.taxonomy={name:this.taxonomy},e))),null===(t=this.value.terms)||void 0===t||t.splice(0,null===(i=this.value.terms)||void 0===i?void 0:i.length,...null===(n=this.value.terms)||void 0===n?void 0:n.filter((e=>!e.taxonomy||e.taxonomy.name!==this.taxonomy))),null===(o=this.value.terms)||void 0===o||o.push(...e)}get taxonomyPlural(){return Object(Fe["upperFirst"])(we()(this.taxonomy))}};Pe([Ae.State,Qe("design:type",Object)],De.prototype,"terms",void 0),Pe([Ae.Action,Qe("design:type",Object)],De.prototype,"saveTerm",void 0),Pe([Ae.Action,Qe("design:type",Function)],De.prototype,"fetchTermPage",void 0),Pe([Object(c["b"])(),Qe("design:type","function"===typeof(qe="undefined"!==typeof u.a&&u.a)?qe:Object)],De.prototype,"value",void 0),Pe([Object(c["b"])(),Qe("design:type",String)],De.prototype,"taxonomy",void 0),De=Pe([c["a"]],De);var Be=De,Le=Be,$e=Object(h["a"])(Le,ke,Ee,!1,null,null,null),Ve=$e.exports;x()($e,"components",{QCard:re["a"],QCardSection:ce["a"],QSeparator:de["a"],QSelect:Q["a"],QInput:g["a"],QBtn:A["a"]});var Ie,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Featured image")]),i("q-separator")],1),i("q-card-section",[i("MediaSelect",{staticClass:"full-width q-mt-xs",attrs:{value:e.value.featuredImage?e.value.featuredImage.id:null},on:{"input-computed":e.setFeaturedImage}})],1)],1)},Me=[],He=i("ba9a"),Ke=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Ye=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ge=class extends c["d"]{setFeaturedImage({value:e}){this.value.featuredImage=e}};Ke([Object(c["b"])(),Ye("design:type","function"===typeof(Ie="undefined"!==typeof u.a&&u.a)?Ie:Object)],Ge.prototype,"value",void 0),Ge=Ke([Object(c["a"])({components:{MediaSelect:He["a"]}})],Ge);var Je=Ge,Ue=Je,ze=Object(h["a"])(Ue,Ne,Me,!1,null,null,null),We=ze.exports;x()(ze,"components",{QCard:re["a"],QCardSection:ce["a"],QSeparator:de["a"]});var Xe,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.templates.length>0?i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Template")]),i("q-separator")],1),i("q-card-section",[i("q-select",{attrs:{options:e.templates,label:"Custom template",filled:"","emit-value":"","map-options":"",value:e.value.getCustomFieldValue("page_template")},on:{input:function(t){return e.value.setCustomFieldValue("page_template",t)}},scopedSlots:e._u([e.value.getCustomFieldValue("page_template")?{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){return t.stopPropagation(),e.value.deleteCustomField("page_template")}}})]},proxy:!0}:null],null,!0)})],1)],1):e._e()},et=[],tt=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},it=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const nt=Object(k["a"])("Content");let ot=class extends c["d"]{created(){this.fetchTemplates(this.value.type)}get templates(){if(!this.contentEntitiesTemplates[this.value.type]||0===this.contentEntitiesTemplates[this.value.type].length)return[];const e=[];for(const t of this.contentEntitiesTemplates[this.value.type])e.push({label:t,value:t});return e}};tt([nt.State,it("design:type",Object)],ot.prototype,"contentEntitiesTemplates",void 0),tt([nt.Action,it("design:type",Object)],ot.prototype,"fetchTemplates",void 0),tt([Object(c["b"])(),it("design:type","function"===typeof(Xe="undefined"!==typeof u.a&&u.a)?Xe:Object)],ot.prototype,"value",void 0),ot=tt([c["a"]],ot);var at=ot,st=at,lt=i("0016"),rt=Object(h["a"])(st,Ze,et,!1,null,null,null),ct=rt.exports;x()(rt,"components",{QCard:re["a"],QCardSection:ce["a"],QSeparator:de["a"],QSelect:Q["a"],QIcon:lt["a"]});var dt,ut,pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Publish")]),i("q-separator")],1),i("q-card-section",[i("q-select",{attrs:{label:"Status",filled:"",options:e.statusOptions,"map-options":"","emit-value":""},model:{value:e.value.status,callback:function(t){e.$set(e.value,"status",t)},expression:"value.status"}})],1),i("q-card-actions",{attrs:{align:"between"}},[i("q-btn",{staticClass:"q-ma-sm",attrs:{flat:"",color:"negative",icon:"mdi-delete"},on:{click:function(t){return e.$emit("update:delete-action",!0)}}}),i("q-btn",{staticClass:"q-ma-sm",attrs:{color:"primary",label:e.publishActionText,loading:e.saveLoading},on:{click:function(t){return e.$emit("save")}}})],1)],1)},ft=[],vt=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},mt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let yt=class extends c["d"]{constructor(){super(...arguments),this.statusOptions=[{label:"Draft",value:"draft"},{label:"Private",value:"private"},{label:"Pending review",value:"pending_review"},{label:"Published",value:"publish"}]}get publishActionText(){return this.value?"publish"!==this.originalEntity.status&&"publish"===this.value.status?"Publish":"Update":""}};vt([Object(c["b"])(),mt("design:type","function"===typeof(dt="undefined"!==typeof u.a&&u.a)?dt:Object)],yt.prototype,"value",void 0),vt([Object(c["b"])(),mt("design:type","function"===typeof(ut="undefined"!==typeof u.a&&u.a)?ut:Object)],yt.prototype,"originalEntity",void 0),vt([Object(c["b"])({type:Boolean}),mt("design:type",Boolean)],yt.prototype,"saveLoading",void 0),vt([Object(c["b"])({type:Boolean}),mt("design:type",Boolean)],yt.prototype,"deleteAction",void 0),yt=vt([c["a"]],yt);var bt=yt,ht=bt,gt=Object(h["a"])(ht,pt,ft,!1,null,null,null),Ct=gt.exports;x()(gt,"components",{QCard:re["a"],QCardSection:ce["a"],QSeparator:de["a"],QSelect:Q["a"],QCardActions:fe["a"],QBtn:A["a"]});var xt,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row justify-end"},[i("q-btn",{class:{"full-width":e.$q.screen.lt.lg},attrs:{label:"Page builder",icon:"mdi-toy-brick",color:"primary",outline:""},on:{click:function(t){e.goToPageBuilderAction=!0}}}),i("q-dialog",{attrs:{persistent:""},model:{value:e.goToPageBuilderAction,callback:function(t){e.goToPageBuilderAction=t},expression:"goToPageBuilderAction"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"mdi-exclamation-thick",color:"warning","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Do you want to save this "+e._s(e.typeName)+" before switching to page builder?")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Cancel",color:"secondary"},on:{click:function(t){e.goToPageBuilderAction=!1}}}),i("q-btn",{attrs:{flat:"",label:"No",color:"secondary"},on:{click:function(t){return e.goToPageBuilder(!1)}}}),i("q-btn",{attrs:{flat:"",label:"Yes",color:"primary",autofocus:"",loading:e.saveLoading},on:{click:function(t){return e.goToPageBuilder(!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.goToPageBuilder(!0)}}})],1)],1)],1)],1)},jt=[],Rt=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Tt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const qt=Object(k["a"])("ContentType");let kt=class extends c["d"]{constructor(){super(...arguments),this.goToPageBuilderAction=!1}goToPageBuilder(e){e?this.$emit("save",(()=>{this.$router.push({name:this.value.type+"_edit",params:{id:this.value.id.toString()}})})):this.$router.push({name:this.value.type+"_edit",params:{id:this.value.id.toString()}})}get typeName(){var e;return this.value?this.findByName(null===(e=this.value)||void 0===e?void 0:e.type).name.toLowerCase():""}};Rt([qt.Getter,Tt("design:type",Object)],kt.prototype,"findByName",void 0),Rt([Object(c["b"])(),Tt("design:type","function"===typeof(xt="undefined"!==typeof u.a&&u.a)?xt:Object)],kt.prototype,"value",void 0),Rt([Object(c["b"])({type:Boolean}),Tt("design:type",Boolean)],kt.prototype,"saveLoading",void 0),kt=Rt([c["a"]],kt);var Et=kt,St=Et,_t=Object(h["a"])(St,Ot,jt,!1,null,null,null),wt=_t.exports;x()(_t,"components",{QBtn:A["a"],QDialog:le["a"],QCard:re["a"],QCardSection:ce["a"],QAvatar:ue["a"],QCardActions:fe["a"]});var Ft=i("c5f3"),Pt=i("7905");class Qt{getCustomField(e){let t=this.customFieldsComputed.find((t=>t.key===e));return t||(t=this.customFieldsComputed.find((e=>""===e.key))),this.setCustomFieldKey(t,e),this.customFieldsComputed.find((t=>t.key===e))}getCustomFieldValue(e){var t;return null===(t=this.customFieldsComputed.find((t=>t.key===e)))||void 0===t?void 0:t.value}setCustomFieldKey(e,t){const i=this.customFieldsComputed;i.find((t=>t.key===e.key)).key=t,this.customFieldsComputed=i}setCustomFieldValue(e,t){if(void 0===t)return void this.deleteCustomField(e);"string"===typeof e&&(e=this.getCustomField(e));const i=this.customFieldsComputed;i.find((t=>t.key===e.key)).value=t,this.customFieldsComputed=i}deleteCustomField(e){"string"===typeof e&&(e=this.getCustomField(e));const t=this.customFieldsComputed;t.splice(t.findIndex((t=>t.key===e.key)),1),this.customFieldsComputed=t}get customFieldsComputed(){const e=[];if(this.customFields)for(const t in this.customFields)this.customFields.hasOwnProperty(t)&&e.push({key:t,value:this.customFields[t]});return e.push({key:"",value:""}),e}set customFieldsComputed(e){this.customFields={};for(const t of e)t.key.trim()&&(this.customFields[t.key]=t.value)}}i("98db");var At=function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Dt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const Bt=Object(k["a"])("ContentType"),Lt=Object(k["a"])("Content"),$t=Object(k["a"])("Taxonomy");let Vt=class extends c["d"]{constructor(){super(...arguments),this.model=null,this.saveLoading=!1,this.deleteLoading=!1,this.deleteAction=!1,this.tab="content",this.tabs=[{name:"content",icon:"mdi-file-document-edit-outline",label:"Content",panel:{component:"ClassicEditorPanelContent"}},{name:"seo",icon:"mdi-card-search-outline",label:"SEO",panel:{component:"ClassicEditorPanelSEO"}},{name:"custom_fields",icon:"mdi-form-textbox",label:"Custom fields",panel:{component:"ClassicEditorPanelCustomFields"}},{visible:e=>e.revisions.length>1,name:"revisions",icon:"mdi-timeline-text-outline",label:"Revisions",panel:{component:"ClassicEditorPanelRevisions"}}],this.sidebarComponents=[{component:"ClassicEditorSidebarSwitchPageBuilder"},{component:"ClassicEditorSidebarPublish"},{component:"ClassicEditorSidebarFeaturedImage"},{component:"ClassicEditorSidebarPageTemplate"},{id:"ClassicEditorSidebarTaxonomy_category",visible:()=>this.doesContentTypeHasTaxonomy("category"),component:"ClassicEditorSidebarTaxonomy",props:{taxonomy:"category"}},{id:"ClassicEditorSidebarTaxonomy_tag",visible:()=>this.doesContentTypeHasTaxonomy("tag"),component:"ClassicEditorSidebarTaxonomy",props:{taxonomy:"tag"}}]}created(){Pt["a"].emit("ContentEditClassic:sidebarComponents",{type:this.type,sidebarComponents:this.sidebarComponents}),Pt["a"].emit("ContentEditClassic:tabs",{type:this.type,tabs:this.tabs}),Pt["a"].on("ContentType:loaded",(()=>{this.getEntity()})),this.fetchTaxonomies(),this.contentTypes.length>0&&this.getEntity()}async getEntity(){this.originalEntity=await this.fetchFullById({type:this.type,id:this.id}),this.model=Object(s["plainToClassFromExist"])(new Qt,Object(Fe["cloneDeep"])(this.originalEntity)),this.fetchContentEntityRevisions(this.model)}async save(e){if(!this.model)return;this.saveLoading=!0;let t=Object(Fe["cloneDeep"])(this.model);t=await this.saveEntity(t),this.model=Object(s["plainToClassFromExist"])(new Qt,t),this.saveLoading=!1,e&&e(),await this.fetchContentEntityRevisions(this.model)}reload(){this.getEntity()}get typeName(){var e;return this.model?this.findByName(null===(e=this.model)||void 0===e?void 0:e.type).name.toLowerCase():""}async confirmDelete(){this.deleteLoading=!0,await this.deleteEntity(this.model),this.deleteLoading=!1,this.deleteAction=!1,await this.$router.push({name:this.type+"_index"})}get revisions(){var e;return this.contentEntitiesRevisions.hasOwnProperty(this.type)&&this.contentEntitiesRevisions[this.type].hasOwnProperty(this.id.toString())&&null!==(e=this.contentEntitiesRevisions[this.type][this.id.toString()])&&void 0!==e?e:[]}onRevisionsChanged(){"revisions"===this.tab&&this.revisions.length<=1&&(this.tab="content")}doesContentTypeHasTaxonomy(e){return this.taxonomies.filter((t=>{var i;return(null===(i=t.contentTypes)||void 0===i?void 0:i.includes(this.type))&&t.name===e})).length>0}get visibleTabs(){return this.tabs.filter((e=>!e.visible||e.visible(this)))}get visibleSidebarComponents(){return this.sidebarComponents.filter((e=>!e.visible||e.visible(this)))}};At([Bt.State,Dt("design:type",Object)],Vt.prototype,"contentTypes",void 0),At([Bt.Getter,Dt("design:type",Object)],Vt.prototype,"findByName",void 0),At([Lt.State,Dt("design:type",Object)],Vt.prototype,"contentEntitiesRevisions",void 0),At([Lt.Action,Dt("design:type",Object)],Vt.prototype,"fetchFullById",void 0),At([Lt.Action,Dt("design:type",Object)],Vt.prototype,"saveEntity",void 0),At([Lt.Action,Dt("design:type",Object)],Vt.prototype,"deleteEntity",void 0),At([Lt.Action,Dt("design:type",Object)],Vt.prototype,"fetchContentEntityRevisions",void 0),At([$t.State,Dt("design:type",Array)],Vt.prototype,"taxonomies",void 0),At([$t.Action,Dt("design:type",Object)],Vt.prototype,"fetchTaxonomies",void 0),At([Object(c["b"])(),Dt("design:type",Number)],Vt.prototype,"id",void 0),At([Object(c["b"])(),Dt("design:type",String)],Vt.prototype,"type",void 0),At([Object(c["e"])("revisions"),Dt("design:type",Function),Dt("design:paramtypes",[]),Dt("design:returntype",void 0)],Vt.prototype,"onRevisionsChanged",null),Vt=At([Object(c["a"])({components:{ClassicEditorPanelContent:j,ClassicEditorPanelSEO:Te,ClassicEditorPanelCustomFields:B,ClassicEditorPanelRevisions:me,ClassicEditorSidebarPublish:Ct,ClassicEditorSidebarFeaturedImage:We,ClassicEditorSidebarSwitchPageBuilder:wt,ClassicEditorSidebarPageTemplate:ct,ClassicEditorSidebarTaxonomy:Ve,MediaSelect:He["a"],MediaLibraryDialog:Ft["a"]}})],Vt);var It=Vt,Nt=It,Mt=i("9989"),Ht=i("429b"),Kt=i("7460"),Yt=i("adad"),Gt=i("823b"),Jt=i("de5e"),Ut=i("65c6"),zt=i("6ac5"),Wt=i("05c0"),Xt=Object(h["a"])(Nt,o,a,!1,null,null,null);t["default"]=Xt.exports;x()(Xt,"components",{QPage:Mt["a"],QCard:re["a"],QTabs:Ht["a"],QTab:Kt["a"],QSeparator:de["a"],QTabPanels:Yt["a"],QTabPanel:Gt["a"],QDialog:le["a"],QCardSection:ce["a"],QAvatar:ue["a"],QCardActions:fe["a"],QBtn:A["a"],QPageSticky:Jt["a"],QToolbar:Ut["a"],QToolbarTitle:zt["a"],QTooltip:Wt["a"]})}}]);