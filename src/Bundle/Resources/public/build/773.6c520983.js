"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[773],{9821:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});n(8304),n(489),n(6992),n(1539),n(3948),n(9653),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(8783);var r=n(7931),a=n(5166),o=(n(8309),{class:"flex-grow flex flex-col relative"}),i={class:"w-full h-full flex flex-col flex-grow p-3"},l={key:0,class:"flex-grow flex items-center justify-center"},u=[function(e){return(0,a.pushScopeId)("data-v-d519a7d8"),e=e(),(0,a.popScopeId)(),e}((function(){return(0,a.createElementVNode)("span",{class:"text-center text-gray-800 text-md md:text-xl"}," Drop your files here or click to select ",-1)}))];n(7941),n(9686),n(4553);var c=n(9980),s=n.n(c);n(5666),n(2772),n(4916),n(3123),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(9826),n(8674),n(7042),n(1038),n(9753),n(5306),n(4197);var f=n(2918),p=n.n(f);function d(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"createImageDataURLFromFile",value:function(t){var n=new FileReader;return new Promise((function(r,a){n.onerror=function(){a(new DOMException("Problem parsing input file."))},n.onload=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var a,o,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=document.createElement("img")).src=null===(a=n.target)||void 0===a?void 0:a.result,!(l=p().readFromBinaryFile(e.base64ToArrayBuffer(null===(o=n.target)||void 0===o?void 0:o.result)))||!Object.prototype.hasOwnProperty.call(l,"Orientation")){t.next=7;break}return t.next=6,e.rotateBase64Image(i.src,l.Orientation);case 6:i.src=t.sent;case 7:r(i);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){d(o,r,a,i,l,"next",e)}function l(e){d(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),n.readAsDataURL(t)}))}},{key:"resizeImage",value:function(t,n){var r=e.calculateScaleDimensions(t.width,t.height,n.width,n.height),a=e.downscaleImage(t,r.ratio),o=document.createElement("img");return o.src=a.toDataURL(n.mimeType||"image/WebP",n.quality?n.quality/100:.934),o}},{key:"getImageFileSize",value:function(e){var t=e.src.replace(/^data:([^;]+);base64,/gim,""),n=4*t.length/3,r=t.length%3?3-t.length%3:0;return n+r+(2+2*(n+r)/72)}},{key:"calculateScaleDimensions",value:function(e,t,n,r){var a=Math.min(n/e,r/t);return{ratio:a,width:e*a,height:t*a}}},{key:"downscaleImage",value:function(t,n){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var a=r.getContext("2d");if(a)return a.drawImage(t,0,0),n>=1?r:e.downscaleCanvas(r,a,n);throw new Error("Error while resizing image.")}},{key:"downscaleCanvas",value:function(e,t,n){if(!(n<1&&n>0))throw new Error("Scale must be a positive number <1");var r=n*n,a=e.width,o=e.height,i=Math.floor(a*n),l=Math.floor(o*n),u=0,c=0,s=0,f=0,p=0,d=0,m=0,v=0,h=0,g=0,y=0,b=0,w=0,x=0,k=0,E=!1,z=!1,O=t.getImageData(0,0,a,o).data,V=new Float32Array(3*i*l),U=0,S=0,D=0;for(c=0;c<o;c++)for(p=c*n,d=3*(h=Math.floor(p))*i,(z=h!==Math.floor(p+n))&&(x=h+1-p,k=p+n-h-1),u=0;u<a;u++,s+=4)f=u*n,m=d+3*(v=Math.floor(f)),(E=v!==Math.floor(f+n))&&(b=v+1-f,w=f+n-v-1),U=O[s],S=O[s+1],D=O[s+2],E||z?E&&!z?(g=b*n,V[m]+=U*g,V[m+1]+=S*g,V[m+2]+=D*g,y=w*n,V[m+3]+=U*y,V[m+4]+=S*y,V[m+5]+=D*y):z&&!E?(g=x*n,V[m]+=U*g,V[m+1]+=S*g,V[m+2]+=D*g,y=k*n,V[m+3*i]+=U*y,V[m+3*i+1]+=S*y,V[m+3*i+2]+=D*y):(g=b*x,V[m]+=U*g,V[m+1]+=S*g,V[m+2]+=D*g,y=w*x,V[m+3]+=U*y,V[m+4]+=S*y,V[m+5]+=D*y,y=b*k,V[m+3*i]+=U*y,V[m+3*i+1]+=S*y,V[m+3*i+2]+=D*y,y=w*k,V[m+3*i+3]+=U*y,V[m+3*i+4]+=S*y,V[m+3*i+5]+=D*y):(V[m]+=U*r,V[m+1]+=S*r,V[m+2]+=D*r);var B=document.createElement("canvas");B.width=i,B.height=l;var N=B.getContext("2d");if(!N)throw new Error("Error downscaling image.");var C=N.getImageData(0,0,i,l),F=C.data,I=0;for(s=0,m=0;I<i*l;s+=3,m+=4,I++)F[m]=Math.ceil(V[s]),F[m+1]=Math.ceil(V[s+1]),F[m+2]=Math.ceil(V[s+2]),F[m+3]=255;return N.putImageData(C,0,0),B}},{key:"base64ToArrayBuffer",value:function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer}},{key:"rotateBase64Image",value:function(e,t){if(-1===[3,6,8].indexOf(t))return new Promise((function(t){t(e)}));var n=document.createElement("canvas"),r=n.getContext("2d");return new Promise((function(a){var o=new Image;o.onload=function(){6===t||8===t?(n.height=o.width,n.width=o.height):3===t&&(n.width=o.width,n.height=o.height),6===t?(r.rotate(90*Math.PI/180),r.translate(0,-n.width)):8===t?(r.rotate(-90*Math.PI/180),r.translate(-n.height,0)):3===t&&r.rotate(Math.PI),r.drawImage(o,0,0),a(n.toDataURL("image/jpeg",100))},o.src=e}))}}],(n=null)&&m(t.prototype,n),r&&m(t,r),e}(),h=n(9669),g=n.n(h);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function x(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,l,"next",e)}function l(e){E(o,r,a,i,l,"throw",e)}i(void 0)}))}}var O=function(e){return(0,a.pushScopeId)("data-v-4c5c85f2"),e=e(),(0,a.popScopeId)(),e},V={class:"relative"},U=["src"],S={key:1,class:"square flex items-center justify-center"},D=[O((function(){return(0,a.createElementVNode)("i",{class:"fa fa-file text-primary text-9xl"},null,-1)}))],B={class:"flex flex-col mt-3"},N={class:"w-full text-center text-sm text-primary mb-2"},C={class:"w-full flex flex-row justify-between items-center space-x-3"},F={class:"relative flex-grow"},I={class:"overflow-hidden h-2 text-xs flex rounded bg-primary-100"},M=[O((function(){return(0,a.createElementVNode)("i",{class:"fa fa-times text-red-600"},null,-1)}))],j={key:0,class:"flex flex-col"},R={key:0,class:"text-red-600 font-semibold"},q={key:1,class:"text-red-600 font-semibold"},P={key:2,class:"text-gray-800 text-sm"};const _=(0,a.defineComponent)({name:"MediaUploadableFile",props:{file:{type:Object,required:!0}},emits:["remove"],setup:function(e){return{imageSource:(0,a.computed)((function(){return e.file.thumbnail?e.file.thumbnail.src:null}))}}});var T=n(3744);const A=(0,T.Z)(_,[["render",function(e,t,n,r,o,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["uploadable-file",{error:e.file.error}]),draggable:"true",onClick:t[1]||(t[1]=(0,a.withModifiers)((function(){}),["prevent"]))},[(0,a.createElementVNode)("div",V,[e.imageSource?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:0,src:e.imageSource,class:"square object-contain",alt:"Loading..."},null,8,U)):((0,a.openBlock)(),(0,a.createElementBlock)("div",S,D))]),(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("p",N,(0,a.toDisplayString)(e.file.file.name),1),(0,a.createElementVNode)("div",C,[(0,a.createElementVNode)("div",F,[(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",{style:(0,a.normalizeStyle)({width:100*e.file.uploadProgress+"%"}),class:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary"},null,4)])]),(0,a.createElementVNode)("button",{onClick:t[0]||(t[0]=(0,a.withModifiers)((function(t){return e.$emit("remove")}),["prevent"]))},M)]),e.file.error?((0,a.openBlock)(),(0,a.createElementBlock)("div",j,["file_too_big"===e.file.error?((0,a.openBlock)(),(0,a.createElementBlock)("span",R,"File is too big!")):(0,a.createCommentVNode)("",!0),"upload_error"===e.file.error?((0,a.openBlock)(),(0,a.createElementBlock)("span",q,"Upload failed!")):(0,a.createCommentVNode)("",!0),e.file.image?((0,a.openBlock)(),(0,a.createElementBlock)("span",P,"Consider resizing before upload.")):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])],2)}],["__scopeId","data-v-4c5c85f2"]]);var L=function(e){return(0,a.pushScopeId)("data-v-33a648c1"),e=e(),(0,a.popScopeId)(),e},Y={class:"flex flex-col md:flex-row justify-start items-start gap-2 md:gap-5"},Z=L((function(){return(0,a.createElementVNode)("span",null,"Resize before upload",-1)})),$={key:0,class:"resize-options"},G=L((function(){return(0,a.createElementVNode)("label",{for:"resize-options-width"},"Max width",-1)})),J=L((function(){return(0,a.createElementVNode)("label",null,"Max height",-1)})),Q=L((function(){return(0,a.createElementVNode)("label",null,"Format",-1)})),W=["value"],H={key:0,class:"quality"},K=L((function(){return(0,a.createElementVNode)("label",null,"Quality",-1)})),X={class:"flex justify-between items-center gap-3"};function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modelValue";return(0,a.computed)({get:function(){return e[n]},set:function(e){return t("update:".concat(n),e)}})}const te=(0,a.defineComponent)({name:"MediaResizeOptions",props:{modelValue:{type:Object,required:!0}},setup:function(e,t){return{mimeTypes:[{value:"image/jpeg",label:"JPEG"},{value:"image/png",label:"PNG"}],resizeOptions:ee(e,t.emit)}}}),ne=(0,T.Z)(te,[["render",function(e,t,n,r,o,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",Y,[(0,a.createElementVNode)("label",{class:(0,a.normalizeClass)(["resize-checkbox",{enabled:e.resizeOptions.enabled}])},[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.resizeOptions.enabled=t}),type:"checkbox"},null,512),[[a.vModelCheckbox,e.resizeOptions.enabled]]),Z],2),e.resizeOptions.enabled?((0,a.openBlock)(),(0,a.createElementBlock)("div",$,[(0,a.createElementVNode)("div",null,[G,(0,a.withDirectives)((0,a.createElementVNode)("input",{id:"resize-options-width","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.resizeOptions.width=t}),type:"number"},null,512),[[a.vModelText,e.resizeOptions.width,void 0,{number:!0}]])]),(0,a.createElementVNode)("div",null,[J,(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.resizeOptions.height=t}),type:"number"},null,512),[[a.vModelText,e.resizeOptions.height,void 0,{number:!0}]])]),(0,a.createElementVNode)("div",null,[Q,(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.resizeOptions.mimeType=t})},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.mimeTypes,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:t,value:e.value},(0,a.toDisplayString)(e.label),9,W)})),128))],512),[[a.vModelSelect,e.resizeOptions.mimeType]])]),"image/jpeg"===e.resizeOptions.mimeType?((0,a.openBlock)(),(0,a.createElementBlock)("div",H,[K,(0,a.createElementVNode)("div",X,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.resizeOptions.quality=t}),type:"range",min:0,max:100,step:1},null,512),[[a.vModelText,e.resizeOptions.quality]]),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.resizeOptions.quality),1)])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])}],["__scopeId","data-v-33a648c1"]]);var re=n(2853),ae=n(7560);const oe=(0,a.defineComponent)({name:"MediaUploader",components:{MediaUploadableFile:A,MediaResizeOptions:ne,draggable:s()},props:{uploadUrl:{type:String,required:!0},maxUploadSize:{type:Number,required:!0},sequential:Boolean,autoUpload:Boolean},setup:function(e){var t,n,r=(0,a.ref)(null),o=(0,a.reactive)({enabled:!1,width:800,height:800,quality:75,mimeType:"image/jpeg"}),i=function(){var e=(0,a.ref)(0),t=(0,a.ref)(!1);function n(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!("ontouchstart"in window||navigator.maxTouchPoints)}return{isDraggingOver:t,onDragEnter:function(r){r.preventDefault(),n()&&(e.value++,t.value=!0)},onDragLeave:function(r){r.preventDefault(),n()&&(e.value--,e.value<=0&&(e.value=0,t.value=!1))}}}(),l=i.isDraggingOver,u=i.onDragEnter,c=i.onDragLeave,s=function(e){var t=(0,a.ref)([]);function n(){return(n=z(regeneratorRuntime.mark((function n(a){var o,l,u,c,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=[],u=w(a),n.prev=2,s=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.value,!t.value.find((function(e){return e.file.name===n.name}))){e.next=3;break}return e.abrupt("return","continue");case 3:return e.prev=3,e.t0=l,e.next=7,r(n);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(3),l.push({file:n,image:document.createElement("img")});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),u.s();case 5:if((c=u.n()).done){n.next=12;break}return n.delegateYield(s(),"t0",7);case 7:if("continue"!==n.t0){n.next=10;break}return n.abrupt("continue",10);case 10:n.next=5;break;case 12:n.next=17;break;case 14:n.prev=14,n.t1=n.catch(2),u.e(n.t1);case 17:return n.prev=17,u.f(),n.finish(17);case 20:if((o=t.value).push.apply(o,l),!e.autoUpload){n.next=24;break}return n.next=24,i();case 24:case"end":return n.stop()}}),n,null,[[2,14,17,20]])})))).apply(this,arguments)}function r(e){return o.apply(this,arguments)}function o(){return(o=z(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"!==t.type.substr(0,5)){e.next=6;break}return e.next=3,v.createImageDataURLFromFile(t);case 3:return n=e.sent,r=v.resizeImage(n,{width:250,height:250,quality:60}),e.abrupt("return",{file:t,image:n,thumbnail:r});case 6:return e.abrupt("return",{file:t});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return l.apply(this,arguments)}function l(){return(l=z(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=o[a]).image&&e.resizeOptions&&e.resizeOptions.enabled&&(e.resizeOptions.width<n.image.width||e.resizeOptions.height<n.image.height))){t.next=10;break}if(n.image=v.resizeImage(n.image,e.resizeOptions),!(v.getImageFileSize(n.image)>=e.maxUploadSize)){t.next=8;break}if(n.error="file_too_big",!e.sequential){t.next=7;break}return t.abrupt("return",{v:void 0});case 7:case 14:return t.abrupt("return","continue");case 8:t.next=15;break;case 10:if(!(n.file.size>=e.maxUploadSize)){t.next=15;break}if(n.error="file_too_big",!e.sequential){t.next=14;break}return t.abrupt("return",{v:void 0});case 15:if(e.sequential){t.next=19;break}u(n).then((function(t){t&&e.onFileUploaded&&e.onFileUploaded({parsedFile:n,mediaFile:t.data})})).catch((function(){n.error="upload_error"})),t.next=30;break;case 19:return t.prev=19,t.next=22,u(n);case 22:(r=t.sent)&&e.onFileUploaded&&e.onFileUploaded({parsedFile:n,mediaFile:r.data}),t.next=30;break;case 26:return t.prev=26,t.t0=t.catch(19),n.error="upload_error",t.abrupt("return",{v:void 0});case 30:case"end":return t.stop()}}),t,null,[[19,26]])})),a=0,o=b(t.value);case 2:if(!(a<o.length)){n.next=12;break}return n.delegateYield(r(),"t0",4);case 4:if("continue"!==(i=n.t0)){n.next=7;break}return n.abrupt("continue",9);case 7:if("object"!==y(i)){n.next=9;break}return n.abrupt("return",i.v);case 9:a++,n.next=2;break;case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){var r=new FormData;if(n.image){var a=new File([c(n.image.src)],n.file.name,{type:n.file.type});r.append("file",a)}else r.append("file",n.file);return g().post(e.uploadUrl,r,{headers:{"Content-Type":"multipart/form-data"},maxContentLength:e.maxUploadSize,onUploadProgress:function(e){t.value[t.value.indexOf(n)].uploadProgress=e.loaded/e.total}})}function c(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return new Blob([r],{type:n})}return{files:t,queueFilesForUpload:function(e){return n.apply(this,arguments)},startUpload:i}}({uploadUrl:e.uploadUrl,maxUploadSize:e.maxUploadSize,sequential:null!==(t=e.sequential)&&void 0!==t&&t,autoUpload:null===(n=e.autoUpload)||void 0===n||n,resizeOptions:o,onFileUploaded:function(e){var t=e.parsedFile,n=e.mediaFile;f.value.splice(f.value.findIndex((function(e){return e.file.name===t.file.name})),1),re.Y.emit(ae.aV,{parsedFile:t,mediaFile:n,remainingCount:f.value.length})}}),f=s.files,p=s.queueFilesForUpload,d=s.startUpload;return{fileInput:r,resizeOptions:o,files:f,isDraggingOver:l,onDragEnter:u,onDragLeave:c,onDrop:function(e){if(c(e),e.target&&e.target.files&&e.target.files.length>0||e.dataTransfer&&Object.keys(e.dataTransfer.files).length>0){var t,n,a=(null===(t=e.target)||void 0===t?void 0:t.files)||(null===(n=e.dataTransfer)||void 0===n?void 0:n.files)||[];p(a)}r.value.value=""},startUpload:d,removeFile:function(e){f.value.splice(e,1)}}}}),ie=(0,T.Z)(oe,[["render",function(e,t,n,r,c,s){var f=(0,a.resolveComponent)("MediaResizeOptions"),p=(0,a.resolveComponent)("MediaUploadableFile"),d=(0,a.resolveComponent)("draggable");return(0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createVNode)(f,{modelValue:e.resizeOptions,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.resizeOptions=t}),class:(0,a.normalizeClass)({"absolute left-0 top-0 z-10":!e.resizeOptions.enabled,"mb-3":e.resizeOptions.enabled})},null,8,["modelValue","class"]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["dropzone",{dragover:e.isDraggingOver,"justify-center":0===e.files.length,"justify-around":e.files.length>0}]),onDragover:t[3]||(t[3]=(0,a.withModifiers)((function(){}),["prevent"])),onDragenter:t[4]||(t[4]=(0,a.withModifiers)((function(){return e.onDragEnter&&e.onDragEnter.apply(e,arguments)}),["prevent"])),onDragleave:t[5]||(t[5]=(0,a.withModifiers)((function(){return e.onDragLeave&&e.onDragLeave.apply(e,arguments)}),["prevent"])),onDrop:t[6]||(t[6]=(0,a.withModifiers)((function(){return e.onDrop&&e.onDrop.apply(e,arguments)}),["stop","prevent"]))},[(0,a.createElementVNode)("label",i,[0===e.files.length?((0,a.openBlock)(),(0,a.createElementBlock)("span",l,u)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("input",{ref:"fileInput",type:"file",multiple:"",onChange:t[1]||(t[1]=function(){return e.onDrop&&e.onDrop.apply(e,arguments)})},null,544),(0,a.renderSlot)(e.$slots,"default",{},(function(){return[0!==e.files.length?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"flex flex-wrap gap-3",list:e.files,"item-key":function(e){return e.name},group:"files"},{item:(0,a.withCtx)((function(t){var n=t.element,r=t.index;return[(0,a.createVNode)(p,{file:n,onRemove:function(t){return e.removeFile(r)}},null,8,["file","onRemove"])]})),_:1},8,["list","item-key"])):(0,a.createCommentVNode)("",!0)]}),!0)]),!e.autoUpload&&e.files.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,type:"button",class:"btn btn-color-primary m-3 self-start",onClick:t[2]||(t[2]=function(){return e.startUpload&&e.startUpload.apply(e,arguments)})}," Start upload ")):(0,a.createCommentVNode)("",!0)],34)])}],["__scopeId","data-v-d519a7d8"]]);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var a=de(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(i,e);var t,n,r,o=fe(i);function i(){return ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"connect",value:function(){(0,a.createApp)(ie,{uploadUrl:this.uploadUrlValue,maxUploadSize:this.maxUploadSizeValue,autoUpload:this.hasAutoUploadValue?this.autoUploadValue:void 0,sequential:this.hasSequentialValue?this.sequentialValue:void 0}).mount("#media-uploader")}}])&&ce(t.prototype,n),r&&ce(t,r),i}(r.Controller);me.values={uploadUrl:String,maxUploadSize:Number,autoUpload:Boolean,sequential:Boolean}}}]);