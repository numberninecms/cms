(self.webpackChunk=self.webpackChunk||[]).push([[766],{4037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>rt});n(4812),n(8304),n(489),n(6992),n(1539),n(3948),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(8783);var i=n(7931),r=n(5166),l=n(7760),a=n(4347),o={key:0,class:"flex flex-col h-full"},c={class:"flex flex-col p-3"},s={key:0,class:"col-span-1 flex flex-col gap-3 overflow-y-auto"},u={class:"flex-grow overflow-y-auto"},d={class:"flex justify-end"};n(7327);var f={class:"py-3 px-3"},p={class:"flex items-center justify-between flex-wrap"},m={class:"font-medium text-white"},v=(0,r.createVNode)("span",{class:"sr-only"},"Dismiss",-1),h=(0,r.createVNode)("i",{class:"fa fa-times"},null,-1);n(9653),n(2564);var x=(0,l.Q_)({id:"flashes",state:function(){return{label:"",message:"",visible:!1}}});const y=(0,r.defineComponent)({name:"FlashBar",props:{delay:{type:Number,default:3e3}},emits:["update:visible"],setup:function(e){var t=x();(0,r.watchEffect)((function(){t.visible&&setTimeout((function(){n()}),e.delay)}));var n=function(){t.visible=!1};return{visible:(0,r.computed)((function(){return t.visible})),label:(0,r.computed)((function(){return t.label})),message:(0,r.computed)((function(){return t.message})),dismiss:n}}});y.render=function(e,t,n,i,l,a){return e.visible?((0,r.openBlock)(),(0,r.createBlock)("div",{key:0,class:["flash-"+e.label,"z-20"]},[(0,r.createVNode)("div",f,[(0,r.createVNode)("div",p,[(0,r.createVNode)("p",m,(0,r.toDisplayString)(e.message),1),(0,r.createVNode)("button",{type:"button",class:"-mr-1 flex p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-white text-white",onClick:t[1]||(t[1]=function(){return e.dismiss&&e.dismiss.apply(e,arguments)})},[v,h])])])],2)):(0,r.createCommentVNode)("",!0)};const g=y;var b={class:"modal-backdrop-container"},k={class:"flex justify-end gap-1 p-3 shadow"},F=(0,r.createVNode)("i",{class:"fa fa-chevron-left"},null,-1),w=(0,r.createVNode)("i",{class:"fa fa-chevron-right"},null,-1),M=(0,r.createVNode)("i",{class:"fa fa-times"},null,-1),V={class:"overflow-hidden flex flex-grow p-3"},B={class:"flex flex-grow items-center md:w-3/4"},N={key:1,class:"flex items-center justify-center"},S=(0,r.createVNode)("i",{class:"fa fa-file text-primary text-7xl"},null,-1),C={class:"hidden md:flex md:flex-grow md:w-1/4"};n(2222);var U=n(2520),I=n.n(U);function _(){return{imageUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"thumbnail";return e&&"image"===e.mimeType.substr(0,5)&&Object.prototype.hasOwnProperty.call(e.sizes,t)?"".concat(I().dirname(e.path),"/").concat(e.sizes[t].filename):null}}}n(9254);var T={class:"flex flex-col flex-grow gap-3"},O={key:0,class:"flex justify-center p-3"},A={class:"flex-grow"},R={class:"flex-shrink-0 text-gray-400 font-semibold lg:text-right lg:w-1/3"},j={key:0},D={key:1,class:"break-all"};n(6755),n(6977);var P=n(8116),L=n.n(P),z=n(1944),E=(n(5666),n(1249),n(9554),n(4747),n(561),n(4553),n(9826),n(2772),n(7042),n(8674),n(9753),n(1038),n(8309),n(9669)),q=n.n(E);function Y(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $(e,t,n,i,r,l,a){try{var o=e[l](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,r)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var l=e.apply(t,n);function a(e){$(l,i,r,a,o,"next",e)}function o(e){$(l,i,r,a,o,"throw",e)}a(void 0)}))}}var H=(0,l.Q_)({id:"mediaFiles",state:function(){return{getUrl:"",deleteUrl:"",mediaFiles:[],selectedMediaFiles:[],filter:"",page:1,maxPages:1,isFetching:!1,queue:[],selectionFirstIndex:-1,selectMultiple:!1}},actions:{setup:function(e){var t=e.getUrl,n=e.deleteUrl;this.getUrl=t,this.deleteUrl=n},loadMoreMediaFiles:function(){var e=this;return G(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(){var t=G(regeneratorRuntime.mark((function t(){var n,i,r,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:1,i={startRow:20*(n-1),fetchCount:20,filter:e.filter,orderBy:"createdAt",order:"desc",status:"publish,private,pending_review,password,draft"},t.next=4,q().get(e.getUrl,{params:i});case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=G(regeneratorRuntime.mark((function t(){var i,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.page>e.maxPages)){t.next=2;break}return t.abrupt("return");case 2:return e.isFetching=!0,t.next=5,n(e.page++);case 5:if(r=t.sent,e.maxPages=r.page.last,(i=e.mediaFiles).push.apply(i,Y(r.collection)),e.isFetching=!1,!(l=e.queue.shift())){t.next=13;break}return t.next=13,l();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!e.isFetching){t.next=5;break}return e.queue.push(i),t.abrupt("return");case 5:return t.next=7,i();case 7:case"end":return t.stop()}}),t)})))()},deleteMediaFiles:function(e){var t=this;return G(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q().post(t.deleteUrl,{ids:e.map((function(e){return e.id}))});case 2:e.forEach((function(e){t.mediaFiles.splice(t.mediaFiles.findIndex((function(t){return t.id===e.id})),1)}));case 3:case"end":return n.stop()}}),n)})))()},setBulkSelectFirstIndex:function(e){var t=this,n=this.selectedMediaFiles.find((function(n){return n.id===t.mediaFiles[e].id}));!!n?this.selectedMediaFiles.splice(this.selectedMediaFiles.indexOf(n),1):this.selectMediaFile(this.mediaFiles[e]),this.selectionFirstIndex=e},bulkMediaSelect:function(e){var t=this;this.selectMultiple&&-1!==this.selectionFirstIndex&&this.mediaFiles.slice(this.selectionFirstIndex,e+1).forEach((function(e){t.selectedMediaFiles.find((function(t){return t.id===e.id}))||t.selectedMediaFiles.push(e)}))},selectMediaFile:function(e){this.selectedMediaFiles.find((function(t){return t.id===e.id}))?this.selectedMediaFiles.splice(this.selectedMediaFiles.findIndex((function(t){return t.id===e.id})),1):this.selectedMediaFiles.push(e)},clearMediaFilesSelection:function(){this.selectedMediaFiles.splice(0,this.selectedMediaFiles.length),this.selectionFirstIndex=-1},isMediaFileSelected:function(e){return!!this.selectedMediaFiles.find((function(t){return t.id===e.id}))}}}),W=(0,l.Q_)({id:"mediaViewer",state:function(){return{displayIndex:-1,show:!1,callback:Object,settings:{}}},actions:{isMediaFileDisplayed:function(e){return H().mediaFiles.findIndex((function(t){return t.id===e.id}))===this.displayIndex}}});const K=(0,r.defineComponent)({name:"MediaFileProperties",props:{showThumbnail:{type:Boolean,required:!1,default:!1}},setup:function(){var e=H(),t=W(),n=_().imageUrl,i={readableBytes:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,t)).toFixed(2)," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}}.readableBytes,l=(0,r.ref)([]),a=(0,r.computed)((function(){return e.mediaFiles[t.displayIndex]}));return(0,r.watchEffect)((function(){if(l.value=[{Name:{value:a.value.slug},Type:{value:a.value.mimeType},Size:{value:i(a.value.fileSize)},Dimensions:{value:"".concat(a.value.width," x ").concat(a.value.height," pixels")}},{Date:{value:L()(a.value.createdAt,"longDate")},Time:{value:L()(a.value.createdAt,"isoTime")}},{URL:{value:"".concat(window.location.origin).concat(a.value.path),link:!0}}],a.value.mimeType.startsWith("image/")&&a.value.exif){var e={};a.value.exif["computed.ApertureFNumber"]&&(e.Aperture={value:a.value.exif["computed.ApertureFNumber"]}),a.value.exif["exif.ExposureTime"]&&(e.Exposure={value:a.value.exif["exif.ExposureTime"]}),a.value.exif["exif.FocalLength"]&&(e["Focal length"]={value:z.ku(a.value.exif["exif.FocalLength"])}),a.value.exif["exif.ISOSpeedRatings"]&&(e.ISO={value:a.value.exif["exif.ISOSpeedRatings"]}),a.value.exif["exif.MeteringMode"]&&(e.Metering={value:a.value.exif["exif.MeteringMode"]}),a.value.exif["ifd0.Model"]&&(e.Camera={value:a.value.exif["ifd0.Model"]}),l.value.push(e)}})),{properties:l,imageUrl:n,mediaFile:a}}});K.render=function(e,t,n,i,l,a){return(0,r.openBlock)(),(0,r.createBlock)("div",T,[e.showThumbnail?((0,r.openBlock)(),(0,r.createBlock)("div",O,[(0,r.createVNode)("img",{src:e.imageUrl(e.mediaFile,"preview"),alt:e.mediaFile.title,class:"object-contain h-48 shadow"},null,8,["src","alt"])])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)("div",A,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.properties,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)("div",{key:t,class:"flex-grow mb-3"},[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)("div",{key:t,class:"flex text-sm sm:flex-col lg:flex-row lg:gap-3 mb-1 lg:mb-0"},[(0,r.createVNode)("div",R,(0,r.toDisplayString)(t),1),e.link?((0,r.openBlock)(),(0,r.createBlock)("div",j,[(0,r.createVNode)("a",{href:e.value,class:"break-all text-primary hover:underline"},(0,r.toDisplayString)(e.value),9,["href"])])):((0,r.openBlock)(),(0,r.createBlock)("div",D,(0,r.toDisplayString)(e.value),1))])})),128))])})),128))])])};const Z=K,J=(0,r.defineComponent)({name:"MediaViewer",components:{MediaFileProperties:Z},setup:function(){var e=H(),t=W(),n=_().imageUrl;function i(e){"ArrowLeft"===e.key?l():"ArrowRight"===e.key?a():"Escape"===e.key&&o()}function l(){t.displayIndex>0?t.displayIndex--:t.displayIndex=e.mediaFiles.length-1}function a(){t.displayIndex<e.mediaFiles.length-1?t.displayIndex++:t.displayIndex=0}function o(){t.show=!1}return(0,r.onMounted)((function(){window.addEventListener("keydown",i)})),(0,r.onUnmounted)((function(){window.removeEventListener("keydown",i)})),{imageUrl:n,displayIndex:(0,r.computed)((function(){return t.displayIndex})),show:(0,r.computed)((function(){return t.show})),mediaFile:(0,r.computed)((function(){return e.mediaFiles[t.displayIndex]})),navigatePrevious:l,navigateNext:a,closeModal:o}}});J.render=function(e,t,n,i,l,a){var o=(0,r.resolveComponent)("MediaFileProperties");return e.show&&-1!==e.displayIndex?((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{key:0,to:"body"},[(0,r.createVNode)("div",{class:"modal-backdrop",onClick:t[5]||(t[5]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})},[(0,r.createVNode)("div",b,[(0,r.createVNode)("div",{class:"modal-card",onClick:t[4]||(t[4]=(0,r.withModifiers)((function(){}),["stop"]))},[(0,r.createVNode)("div",k,[(0,r.createVNode)("button",{class:"btn btn-color-white btn-style-outline",onClick:t[1]||(t[1]=function(){return e.navigatePrevious&&e.navigatePrevious.apply(e,arguments)})},[F]),(0,r.createVNode)("button",{class:"btn btn-color-white btn-style-outline",onClick:t[2]||(t[2]=function(){return e.navigateNext&&e.navigateNext.apply(e,arguments)})},[w]),(0,r.createVNode)("button",{class:"btn btn-color-white btn-style-outline",onClick:t[3]||(t[3]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})},[M])]),(0,r.createVNode)("div",V,[(0,r.createVNode)("div",B,[e.imageUrl(e.mediaFile,"large")?((0,r.openBlock)(),(0,r.createBlock)("img",{key:0,src:e.imageUrl(e.mediaFile,"large"),alt:e.mediaFile.title,class:"object-scale-down w-full max-h-full"},null,8,["src","alt"])):((0,r.openBlock)(),(0,r.createBlock)("div",N,[S]))]),(0,r.createVNode)("div",C,[(0,r.createVNode)(o,{"media-file":e.mediaFile},null,8,["media-file"])])])])])])])):(0,r.createCommentVNode)("",!0)};const X=J;var ee=(0,r.withScopeId)("data-v-64f33891");(0,r.pushScopeId)("data-v-64f33891");var te={ref:"mediaBrowser",class:"flex flex-col"},ne={class:"flex flex-wrap gap-3"},ie={key:1,class:"flex items-center justify-center"},re=(0,r.createVNode)("i",{class:"fa fa-file text-primary text-7xl"},null,-1);(0,r.popScopeId)();var le=ee((function(e,t,n,i,l,a){var o=(0,r.resolveDirective)("observe-visibility");return(0,r.openBlock)(),(0,r.createBlock)("div",te,[(0,r.createVNode)("div",ne,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.mediaFiles,(function(t,n){return(0,r.openBlock)(),(0,r.createBlock)("div",{key:t.id,class:["mediafile shadow-lg flex items-center",{selected:e.isMediaFileSelected(t)}],onClick:[(0,r.withModifiers)((function(t){return e.onThumbnailClicked(n)}),["exact"]),(0,r.withModifiers)((function(t){return e.onThumbnailShiftClicked(n)}),["shift","exact"])]},[e.imageUrl(t)?((0,r.openBlock)(),(0,r.createBlock)("img",{key:0,src:e.imageUrl(t),alt:t.title},null,8,["src","alt"])):((0,r.openBlock)(),(0,r.createBlock)("div",ie,[re]))],10,["onClick"])})),128))]),(0,r.withDirectives)((0,r.createVNode)("div",null,null,512),[[o,e.endOfListVisibilityChanged]])],512)})),ae=n(7560),oe=n(2853);function ce(e,t,n,i,r,l,a){try{var o=e[l](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,r)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var l=e.apply(t,n);function a(e){ce(l,i,r,a,o,"next",e)}function o(e){ce(l,i,r,a,o,"throw",e)}a(void 0)}))}}const ue=(0,r.defineComponent)({name:"MediaThumbnailsList",emits:["thumbnail-clicked","thumbnail-shift-clicked"],setup:function(e,t){var n=t.emit,i=H(),l=W(),a=_().imageUrl,o=(0,r.ref)(null),c=!1,s=!1,u=(0,r.ref)(!1);function d(){return f.apply(this,arguments)}function f(){return(f=se(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!0,e.next=3,i.loadMoreMediaFiles();case 3:c=!1;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.onMounted)((function(){oe.Y.on(ae.aV,(function(e){i.mediaFiles.splice(0,0,e.mediaFile)})),(s=null!==o.value.closest(".modal-backdrop"))?oe.Y.on(ae.im,(function(e){e.visible&&d()})):d()})),(0,r.watch)(i.mediaFiles,se(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.mediaFiles.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,r.nextTick)();case 4:if(!u.value){e.next=7;break}return e.next=7,d();case 7:case"end":return e.stop()}}),e)}))),{deep:!0}),{mediaBrowser:o,imageUrl:a,mediaFiles:(0,r.computed)((function(){return i.mediaFiles})),onThumbnailClicked:function(e){var t={index:e,file:i.mediaFiles[e]};i.selectMultiple&&i.setBulkSelectFirstIndex(e),oe.Y.emit(ae.Mh,t),n("thumbnail-clicked",t)},onThumbnailShiftClicked:function(e){var t={index:e,file:i.mediaFiles[e]};i.selectMultiple&&i.bulkMediaSelect(e),oe.Y.emit(ae.hP,t),n("thumbnail-shift-clicked",t)},endOfListVisibilityChanged:function(e){u.value=e,0!==i.mediaFiles.length&&u.value&&!c&&d()},isMediaFileSelected:function(e){return s?l.isMediaFileDisplayed(e):i.isMediaFileSelected(e)}}}});ue.render=le,ue.__scopeId="data-v-64f33891";const de=ue;var fe={class:"flex items-center space-x-5 pb-3 h-8"},pe={class:"space-x-3",title:"Hold SHIFT to select a range of files"},me=(0,r.createVNode)("span",null,"Select multiple files",-1),ve=(0,r.createVNode)("i",{class:"fa fa-trash"},null,-1),he=(0,r.createVNode)("span",{class:"hidden md:inline"},"Delete selected media",-1),xe=(0,r.createVNode)("i",{class:"fa fa-eraser"},null,-1),ye=(0,r.createVNode)("span",{class:"hidden md:inline"},"Clear selection",-1);function ge(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ke(e,t,n,i,r,l,a){try{var o=e[l](a),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,r)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var l=e.apply(t,n);function a(e){ke(l,i,r,a,o,"next",e)}function o(e){ke(l,i,r,a,o,"throw",e)}a(void 0)}))}}const we=(0,r.defineComponent)({name:"MediaThumbnailsSelectionBar",setup:function(){var e=H(),t=x(),n=(0,r.ref)(!1);function i(){return(i=Fe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.deleteMediaFiles(ge(e.selectedMediaFiles));case 3:e.clearMediaFilesSelection(),t.label="success",t.message="Media files removed successfully.",n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t.label="error",t.message="Unable to remove media files.";case 12:t.visible=!0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}return(0,r.onMounted)((function(){n.value=e.selectMultiple})),(0,r.watch)(n,(function(){e.selectMultiple=n.value})),{checkbox:n,mediaFiles:(0,r.computed)((function(){return e.mediaFiles})),selectedMediaFiles:(0,r.computed)((function(){return e.selectedMediaFiles})),deleteSelection:function(){return i.apply(this,arguments)},clearMediaFilesSelection:e.clearMediaFilesSelection}}});we.render=function(e,t,n,i,l,a){return(0,r.openBlock)(),(0,r.createBlock)("div",fe,[(0,r.createVNode)("label",pe,[(0,r.withDirectives)((0,r.createVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.checkbox=t}),type:"checkbox"},null,512),[[r.vModelCheckbox,e.checkbox]]),me]),e.selectedMediaFiles.length>0?((0,r.openBlock)(),(0,r.createBlock)("button",{key:0,class:"btn btn-color-red btn-size-xsmall space-x-3",type:"button",title:"Delete selected media",onClick:t[2]||(t[2]=function(){return e.deleteSelection&&e.deleteSelection.apply(e,arguments)})},[ve,he])):(0,r.createCommentVNode)("",!0),e.selectedMediaFiles.length>0?((0,r.openBlock)(),(0,r.createBlock)("button",{key:1,class:"btn btn-color-white btn-style-outline btn-size-xsmall space-x-3",type:"button",title:"Clear selection",onClick:t[3]||(t[3]=function(){return e.clearMediaFilesSelection&&e.clearMediaFilesSelection.apply(e,arguments)})},[xe,ye])):(0,r.createCommentVNode)("",!0)])};const Me=we;var Ve={class:"flex flex-col gap-3 mb-3"},Be={class:"flex flex-col px-3 mt-2"},Ne=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_title"},"Title",-1),Se={class:"flex flex-col px-3 mt-2"},Ce=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_caption"},"Caption",-1),Ue={class:"flex flex-col px-3 mt-2"},Ie=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_alt"},"Alternative text",-1),_e={class:"flex flex-col px-3 mt-2"},Te=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_content"},"Description",-1),Oe={class:"flex flex-col px-3 mt-2"},Ae=(0,r.createVNode)("p",{class:"font-light text-lg"},"Media settings",-1),Re={class:"flex flex-col px-3 mt-2"},je=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_size"},"Size",-1),De={class:"flex flex-col px-3 mt-2"},Pe=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_alignment"},"Alignment",-1),Le={class:"flex flex-col px-3 mt-2"},ze=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_link"},"Link",-1),Ee={key:0,class:"flex flex-col px-3 mt-2"},qe=(0,r.createVNode)("label",{class:"font-semibold text-quaternary",for:"settings_form_link_url"},"Link URL",-1);n(7941);var Ye=n(8624);function Qe(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Ge=(0,r.defineComponent)({name:"MediaFileSettings",setup:function(){var e=H(),t=W(),n=(0,r.computed)((function(){return e.mediaFiles[t.displayIndex]})),i=(0,r.reactive)({size:"medium",alignment:"center",link:"media",linkUrl:""}),l=(0,r.computed)((function(){return[{label:"Original size - ".concat(n.value.width," x ").concat(n.value.height),value:"original"}].concat(Qe(Object.keys(n.value.sizes).map((function(e){return{label:"".concat((0,Ye.I)(e)," - ").concat(n.value.sizes[e].width," x ").concat(n.value.sizes[e].height),value:e}}))))}));return(0,r.onMounted)((function(){t.settings=i})),(0,r.watch)(i,(function(){t.settings=i}),{deep:!0}),{mediaFile:n,settings:i,alignmentOptions:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"None",value:"none"}],linkOptions:[{label:"None",value:"none"},{label:"Media",value:"media"},{label:"Media page",value:"page"},{label:"Custom URL",value:"custom"}],fileSizesOptions:l}}});Ge.render=function(e,t,n,i,l,a){return(0,r.openBlock)(),(0,r.createBlock)("div",Ve,[(0,r.createVNode)("div",null,[(0,r.createVNode)("div",Be,[Ne,(0,r.withDirectives)((0,r.createVNode)("input",{id:"settings_form_title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.mediaFile.title=t}),type:"text"},null,512),[[r.vModelText,e.mediaFile.title]])]),(0,r.createVNode)("div",Se,[Ce,(0,r.withDirectives)((0,r.createVNode)("input",{id:"settings_form_caption","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mediaFile.caption=t}),type:"text"},null,512),[[r.vModelText,e.mediaFile.caption]])]),(0,r.createVNode)("div",Ue,[Ie,(0,r.withDirectives)((0,r.createVNode)("input",{id:"settings_form_alt","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.mediaFile.alternativeText=t}),type:"text"},null,512),[[r.vModelText,e.mediaFile.alternativeText]])]),(0,r.createVNode)("div",_e,[Te,(0,r.withDirectives)((0,r.createVNode)("input",{id:"settings_form_content","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.mediaFile.content=t}),type:"text"},null,512),[[r.vModelText,e.mediaFile.content]])])]),(0,r.createVNode)("div",Oe,[Ae,(0,r.createVNode)("div",Re,[je,(0,r.withDirectives)((0,r.createVNode)("select",{id:"settings_form_size","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.settings.size=t})},[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.fileSizesOptions,(function(e){return(0,r.openBlock)(),(0,r.createBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.label),9,["value"])})),128))],512),[[r.vModelSelect,e.settings.size]])]),(0,r.createVNode)("div",De,[Pe,(0,r.withDirectives)((0,r.createVNode)("select",{id:"settings_form_alignment","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.settings.alignment=t})},[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.alignmentOptions,(function(e){return(0,r.openBlock)(),(0,r.createBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.label),9,["value"])})),128))],512),[[r.vModelSelect,e.settings.alignment]])]),(0,r.createVNode)("div",Le,[ze,(0,r.withDirectives)((0,r.createVNode)("select",{id:"settings_form_link","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.settings.link=t})},[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.linkOptions,(function(e){return(0,r.openBlock)(),(0,r.createBlock)("option",{key:e.value,value:e.value},(0,r.toDisplayString)(e.label),9,["value"])})),128))],512),[[r.vModelSelect,e.settings.link]])]),"custom"===e.settings.link?((0,r.openBlock)(),(0,r.createBlock)("div",Ee,[qe,(0,r.withDirectives)((0,r.createVNode)("input",{id:"settings_form_link_url","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.settings.linkUrl=t}),type:"text"},null,512),[[r.vModelText,e.settings.linkUrl]])])):(0,r.createCommentVNode)("",!0)])])};const He=Ge,We=(0,r.defineComponent)({name:"MediaBrowser",components:{MediaFileProperties:Z,MediaFileSettings:He,MediaThumbnailsSelectionBar:Me,MediaThumbnailsList:de,MediaViewer:X,FlashBar:g},props:{getUrl:{type:String,required:!0},deleteUrl:{type:String,required:!0},mode:{type:String,required:!0}},setup:function(e){var t=H(),n=W();return t.setup({getUrl:e.getUrl,deleteUrl:e.deleteUrl}),(0,r.onMounted)((function(){oe.Y.on(ae.n9,(function(e){n.callback=e})),oe.Y.on(ae.gN,(function(e){n.callback=e}))})),{mediaFiles:(0,r.computed)((function(){return t.mediaFiles})),mediaFilesFilter:(0,r.computed)((function(){return t.filter})),selectedMediaFiles:(0,r.computed)((function(){return t.selectedMediaFiles})),displayIndex:(0,r.computed)((function(){return n.displayIndex})),onExtendedModeThumbnailClicked:function(e){var i=e.index;t.selectMultiple||(n.displayIndex=i,n.show=!0)},onMininmalModeThumbnailClicked:function(e){var t=e.index;n.displayIndex=t},clearMediaFilesSelection:t.clearMediaFilesSelection,selectFile:function(){n.callback&&n.callback({files:[t.mediaFiles[n.displayIndex]],settings:n.settings}),n.show=!1,oe.Y.emit(ae.mG,{modalId:"media_library"})}}}});We.render=function(e,t,n,i,l,a){var f=(0,r.resolveComponent)("FlashBar"),p=(0,r.resolveComponent)("MediaThumbnailsSelectionBar"),m=(0,r.resolveComponent)("MediaThumbnailsList"),v=(0,r.resolveComponent)("MediaViewer"),h=(0,r.resolveComponent)("MediaFileProperties"),x=(0,r.resolveComponent)("MediaFileSettings");return"extended"===e.mode?((0,r.openBlock)(),(0,r.createBlock)("div",o,[(0,r.createVNode)(f,{class:"sticky top-ui-area"}),(0,r.createVNode)("div",c,[(0,r.createVNode)(p),(0,r.createVNode)(m,{onThumbnailClicked:e.onExtendedModeThumbnailClicked},null,8,["onThumbnailClicked"])]),(0,r.createVNode)(v)])):((0,r.openBlock)(),(0,r.createBlock)("div",{key:1,class:[{"grid grid-cols-4":-1!==e.displayIndex},"flex h-full"]},[(0,r.createVNode)(m,{class:[{"col-span-3":-1!==e.displayIndex},"p-1 overflow-y-auto"],onThumbnailClicked:e.onMininmalModeThumbnailClicked},null,8,["class","onThumbnailClicked"]),-1!==e.displayIndex?((0,r.openBlock)(),(0,r.createBlock)("div",s,[(0,r.createVNode)("div",u,[(0,r.createVNode)(h,{"show-thumbnail":""}),(0,r.createVNode)(x)]),(0,r.createVNode)("div",d,[(0,r.createVNode)("button",{class:"btn btn-color-primary",onClick:t[1]||(t[1]=function(){return e.selectFile&&e.selectFile.apply(e,arguments)})},"Select file")])])):(0,r.createCommentVNode)("",!0)],2))};const Ke=We;function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=it(e);if(t){var r=it(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(c,e);var t,n,i,o=tt(c);function c(){return Je(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){(0,r.createApp)(Ke,{getUrl:this.getUrlValue,deleteUrl:this.deleteUrlValue,mode:this.modeValue}).use((0,l.WB)()).directive("observe-visibility",{beforeMount:function(e,t,n){n.context=t.instance,a.Sq.bind(e,t,n)},updated:a.Sq.update,unmounted:a.Sq.unbind}).mount("#media-browser")}}])&&Xe(t.prototype,n),i&&Xe(t,i),c}(i.Controller);rt.values={getUrl:String,deleteUrl:String,mode:String}},5042:()=>{}}]);